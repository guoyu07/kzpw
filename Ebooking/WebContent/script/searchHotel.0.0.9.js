/*from tccdn minify at 2013-12-26 16:30:39,file：/cn/c/s/2013/searchHotel.0.0.9.js?v=2013101102*/
(function(){var a=document.createElement("link");a.type="text/css";a.href="http://js.40017.cn/cn/public/module/autoComplete/0.2/autoComplete.css?v=2013030601";a.rel="stylesheet";fish.one(fish.all("head")[0]).html("bottom",a);AutoComplete=function(c){var b={input:null,popup:null,className:"listbox_se",current:-1,defaultValue:"",parentDoc:null,firstSelected:true,userIe6bug:true,finshFun:function(){}};fish.lang.extend(b,c);fish.lang.extend(this,b);this.init(b)};AutoComplete.prototype={init:function(b){var c=this;c.input=document.getElementById(b.inputId);c.popup=document.createElement("div");if(!c.isNullOrEmpty(b.className)){c.popup.className=b.className}if(!c.isNullOrEmpty(b.parentId)){c.parentDoc=document.getElementById(b.parentId)}else{c.parentDoc=document.body}c.parentDoc.appendChild(this.popup);fish.on("click",function(d){var f=fish.getTarget(d);while(f!==null){if(f===c){return}f=f.parentNode}fish.one(c.popup).addClass("none")},document);if(b.firstSelected===false){c.firstSelected=false}if(b.userIe6bug===true){this.userIe6bug=true}if(typeof(b.finshFun)==="function"){c.finshFun=b.finshFun}},isNullOrEmpty:function(b){if(b!=null&&fish.trim(b).length>0){return false}else{return true}},hide:function(){fish.one(this.popup).addClass("none");this.popup.innerHTML=""},show:function(q,u){this.popup.innerHTML="";if(this.userIe6bug===true){this.popup.innerHTML='<iframe scrolling="no" frameborder="0" class="iframeie6"></iframe>'}var h=q.HotelChain;var j=q.HotelList;var d=null;var l=this.input.value.toString();this.defaultValue=l;var n=document.createElement("dl");var o=document.createElement("dt");switch(u){case"city":d=q;o.innerHTML="输入中文/拼音/或↑↓键选择";break;case"hotelname":if(h.length&&j.length){d=[h].concat(j)}else{if(h.length&&!j.length){d=[h]}else{if(!h.length&&j.length){d=j}else{d=[];return}}}o.innerHTML=q.Title;break;case"position":d=q.HotelLocationList;o.innerHTML=q.Title;break;default:d=q;o.innerHTML="输入中文/拼音或↑↓键选择";break}n.appendChild(o);var c,g,b,m,p=q.HotelNameKeys;for(var k=0;k<d.length;k++){c=d[k][1];m=document.createElement("dd");m.title=c;m.index=k;switch(u){case"city":c=d[k][1];g=d[k][3];m.title=c;m.setAttribute("cid",d[k][5]);m.setAttribute("ctype",d[k][2]);m.innerHTML='<span class="citypy">'+g+'</span><span class="cityhy">'+c+"</span>";break;case"hotelname":try{var r=new RegExp(p,"gi")}catch(f){}m.setAttribute("cid",d[k][0]);m.setAttribute("ctype",d[k][2]);if(k==d.length-1&&d.length>10){var s="更多含“"+p+"”的酒店";p=p.replace(r,'<span class="yellow">'+p+"</span>");var t="更多含“"+p+"”的酒店";m.title=s;m.innerHTML=t}else{c=c.replace(r,'<span class="yellow">'+l+"</span>");m.innerHTML=c}break;case"position":m.setAttribute("cid",d[k][0]);m.setAttribute("ctype",d[k][2]);try{var r=new RegExp(l,"gi")}catch(f){}c=c.replace(r,'<span class="yellow">'+l+"</span>");m.innerHTML='<span class="cityhyword">'+c+"</span>";break;default:try{var r=new RegExp(l,"gi")}catch(f){}c=c.replace(r,'<span class="yellow">'+l+"</span>");m.innerHTML='<span class="cityhyword">'+c+"</span>";break}n.appendChild(m)}this.popup.appendChild(n);fish.one(this.popup).removeClass("none");this.parentDoc.style.display="block";this.initEvent(u)},initEvent:function(j){var h=this;var c=h.popup.getElementsByTagName("dd");if(h.firstSelected){if(c.length>0){c[0].className="on"}}h.current=-1;var b=function(){for(var k=0;k<c.length;k++){c[k].className=""}};var g=function(i){if(i.indexOf("更多含")!=-1){h.input.value=i.split("“")[1].split("”")[0]}else{h.input.value=i}};var f=function(){var k=this.getAttribute("ctype"),i=this.getAttribute("cid");if(k!=undefined){h.input.setAttribute("ctype",k)}if(i!=undefined){h.input.setAttribute("cid",i)}};var d=function(i){switch(i){case"hotelname":if(h.current<=-1){h.input.setAttribute("cid",0);h.input.setAttribute("ctype",2)}else{h.input.setAttribute("ctype",c[h.current].getAttribute("ctype"));h.input.setAttribute("cid",c[h.current].getAttribute("cid"))}break;case"city":case"position":default:if(h.current<=-1){h.input.setAttribute("ctype",0);h.input.setAttribute("cid",0)}else{h.input.setAttribute("ctype",c[h.current].getAttribute("ctype"));h.input.setAttribute("cid",c[h.current].getAttribute("cid"))}break}};h.input.onkeydown=function(i){i=i||window.event;if(i.keyCode==40){b();if(h.current===c.length){h.current=0}else{h.current++}if(h.current>=c.length){h.current=-1;g(h.defaultValue);d(j)}else{c[h.current].className="on";g(c[h.current].title.toString());d(j)}fish.preventDefault(i)}else{if(i.keyCode==38){b();if(h.current===-1){h.current=c.length-1}else{h.current--}if(h.current<=-1){d(j);h.current=c.length;g(h.defaultValue)}else{c[h.current].className="on";g(c[h.current].title.toString());d(j)}}else{if(i.keyCode==13){if(h.current>-1&&h.current<c.length){g(c[h.current].title.toString())}fish.one(h.popup).addClass("none");h.current=-1}}}};for(var e=0;e<c.length;e++){c[e].onmouseover=function(i){b();this.className="on";h.current=this.index};c[e].onclick=function(i){h.current=-1;g(this.title.toString());fish.one(h.popup).addClass("none");f.call(this)}}}};AutoComplete.prototype.constructor=AutoComplete;fish.extend({tempHotelAutoComplete:function(b){return new AutoComplete(b)}})})();(function(){(function(){var d=fish.one("#txtHotelInfo"),c=fish.one("#txtHotelName");fish.all("#txtHotelCity1, #txtHotelTime1, #txtHotelTime2").addClass("color-normal");var g=fish.cookie.get("CnHotelDate","CnHotelComeDate");if(g){var g=fish.cookie.get("CnHotelDate","CnHotelComeDate"),b=fish.cookie.get("CnHotelDate","CnHotelLeaveDate"),f=fish.parseTime(new Date()),e=fish.parseTime(new Date(),{days:1});if(fish.parseTime(g)<fish.parseTime(f)){fish.one("#txtHotelTime1").val(f)}else{fish.one("#txtHotelTime1").val(g)}if(fish.parseTime(b)<fish.parseTime(e)){fish.one("#txtHotelTime2").val(e)}else{fish.one("#txtHotelTime2").val(b)}
fish.one("#comHotelWeek").html(
		getWeekCommon(fish.one("#txtHotelTime1").val()));fish.one("#lvHotelWeek").html(getWeekCommon(fish.parseTime(fish.one("#txtHotelTime2").val())))}else{fish.one("#comHotelWeek").html(getWeekCommon(fish.one("#txtHotelTime1").val()));fish.one("#lvHotelWeek").html(getWeekCommon(fish.parseTime(fish.one("#txtHotelTime1").val(),{days:1})))}})();var a=function(){var c=[{name:"如家",id:2},{name:"7天",id:8},{name:"汉庭",id:4},{name:"锦江之星",id:7},{name:"格林豪泰",id:3},{name:"莫泰",id:5},{name:"速8",id:1},{name:"星程",id:29},{name:"布丁",id:69},{name:"尚客优",id:172},{name:"99旅馆",id:174},{name:"南苑E家",id:38},{name:"清沐",id:62},{name:"肯定",id:163},{name:"锐思特",id:47},{name:"宜必思",id:161},{name:"城市便捷",id:128},{name:"禧龙",id:112},{name:"维也纳",id:52},{name:"银座佳驿",id:17},{name:"岭南佳园",id:22},{name:"驿家365",id:165},{name:"今天连锁",id:157},{name:"欣燕都",id:102},{name:"城市客栈",id:21},{name:"城市之家",id:34},{name:"万好万家",id:37},{name:"云上四季",id:67},{name:"福兰特",id:68},{name:"e家快捷",id:61},{name:"蓝色快舟",id:30},{name:"万里路",id:114},{name:"蓝海",id:111},{name:"凯旋龙",id:179},{name:"吉泰",id:58},{name:"八方快捷",id:56},{name:"星月时尚",id:97},{name:"粤海",id:100},{name:"金广快捷",id:66},{name:"假日之星",id:35},{name:"金一村",id:28},{name:"雅悦",id:6},{name:"飘HOME",id:64},{name:"瑞心",id:124},{name:"精通",id:171},{name:"安逸158",id:270},{name:"约克，约克连锁",id:180},{name:"红茶馆",id:261},{name:"艳阳天",id:176},{name:"E居",id:164},{name:"都市客栈",id:50},{name:"好如家",id:16},{name:"神州商旅",id:31},{name:"怡莱",id:36},{name:"宝隆居家",id:39},{name:"为波",id:120},{name:"山水时尚",id:98},{name:"都市万锦连锁宾馆",id:156},{name:"青年阳光",id:273},{name:"中安之家",id:86},{name:"未来宜居",id:26},{name:"扬子江",id:24},{name:"卓越",id:160},{name:"万福盈连锁",id:137},{name:"a8",id:117},{name:"悦嘉",id:25},{name:"书香门第",id:27},{name:"有家客栈",id:15},{name:"金泰之家",id:46},{name:"科逸",id:116},{name:"世纪之星",id:55},{name:"百客蛮好",id:57},{name:"申花",id:32},{name:"逸羽",id:42},{name:"斯克莱",id:43},{name:"昆仑乐居",id:167},{name:"麦尔德",id:170},{name:"金狮100",id:187},{name:"和颐",id:65},{name:"安怡之家",id:48},{name:"新宇之星",id:49},{name:"都市118",id:178},{name:"锦江",id:83},{name:"首旅建国",id:84},{name:"金陵集团",id:51},{name:"君澜",id:223},{name:"港中旅",id:101},{name:"海航",id:173},{name:"开元",id:41},{name:"岷山",id:272},{name:"凯莱",id:99},{name:"维景",id:95},{name:"华美达",id:14},{name:"皇冠假日",id:75},{name:"香格里拉",id:11},{name:"假日",id:9},{name:"喜来登",id:10},{name:"最佳西方",id:45},{name:"智选假日",id:77},{name:"戴斯",id:12},{name:"索菲特",id:13},{name:"豪生",id:78},{name:"希尔顿",id:85},{name:"洲际",id:162},{name:"雅诗阁",id:73},{name:"万丽",id:80},{name:"诺富特",id:72},{name:"凯宾斯基",id:54},{name:"万怡",id:81},{name:"铂尔曼",id:71},{name:"万豪酒店",id:79},{name:"威斯汀",id:82},{name:"美居",id:104},{name:"福朋",id:92},{name:"美爵",id:103},{name:"文华东方",id:265},{name:"JW万豪",id:87},{name:"喜达屋",id:110},{name:"雅乐轩",id:93},{name:"君悦",id:263},{name:"四季",id:268},{name:"艾美",id:91},{name:"W饭店",id:89},{name:"商贸",id:269},{name:"丽思卡尔顿",id:255},{name:"康莱德",id:264},{name:"朗廷",id:266},{name:"朗豪",id:267}],g=["北京","上海","广州","深圳","杭州","南京","成都","武汉","青岛","大连","苏州","三亚","厦门","海口","西安","长沙","昆明","沈阳","香港","澳门"],f=[],v=fish.one("#txtHotelCity1"),o=fish.one("#txtHotelInfo"),i=fish.one("#txtHotelName"),s="商圈/行政区/地标",m="酒店名称/品牌",x,w,y=fish.one("#txtHotelTime2"),z,d,r,l,p,j,t="HotelLocationTip",n="HotelNameTip",q="HotelLocationAutoComplete",k="HotelNameAutoComplete",h="data/HotelSearchInterface.aspx?action=",F=fish.one("#hotelSubmit"),b,D="",u=1,C,E=0,B={},A={};fish.ajax({type:"json",url:"data/hotelajaxcall.aspx?action=GetStayInCity&r="+new Date().toString().replace(/\s*/g,""),fn:function(J){if(J&&J.length){f=J;fish.one("#tab_top_hotel .search_hotel").on("click",function(ak){fish.preventDefault(ak);M()});function M(){var ak=fish.one("#txtHotelCity1"),al=ak.attr("cid"),an=ak.attr("ctype"),ap=fish.one("#txtHotelInfo"),at=ap.attr("ctype"),aq=ap.attr("cid"),au=fish.trim(ap.val()),ar="商圈/行政区/地标",av=fish.one("#txtHotelName"),ay=av.attr("ctype"),aw=av.attr("cid"),az=fish.trim(av.val()),ax="酒店名称/品牌",aA=[],aB=fish.all("#tab_top_hotel .hotel_tab span"),am=fish.all("#otherCtyList input");if(fish.one(aB[0]).hasClass("hotelIn")){if(ai(v,x.warnBox)&&aj(y,z.warnBox)){al=al;if(!an){an=fish.cookie.get("CnHotelSearchParameter","CityType")||"0"}}else{return}}else{if(am.length){if(!aj(y,z.warnBox)){return}if(fish.dom(am[0]).checked){al=fish.one(am[0]).attr("cid")}else{al=fish.one(am[1]).attr("cid")}an="0"}}if(!al||al==="0"){return}if(an==="0"){aA.push("txtCityId="+al)}else{if(an==="1"){aA.push("txtCityId="+ao(al,an,f));aA.push("ar="+al)}else{if(an==="2"){aA.push("txtCityId="+ao(al,an,f));aA.push("scenic="+al)}}}if(az&&az.indexOf(ax)<0){if(!ay||ay==="0"){aA.push("hotelname="+encodeURIComponent(az));aA.push("hotelnametype=0")}else{if(ay==="2"){aA.push("hotelname="+encodeURIComponent(az));aA.push("hotelnametype=2")}else{if(ay==="1"){aA.push("brand="+aw);aA.push("brandname="+az)}}}}else{if(au&&au!==ar&&an!=="2"){if(at==="1"){aA.push("scenic="+aq)}else{if(at==="2"){aA.push("biz="+aq);aA.push("bizname="+au)}else{if(at==="3"){aA.push("ar="+aq)}else{aA.push("roadmark="+encodeURIComponent(au))}}}}}path="//www.17u.cn/hotel/maplist.aspx?"+aA.join("&");window.open(path);function ao(aE,aH,aC){var aD=0,aG,aF;while(aG=aC[aD++]){aF=aG[5].split("#");if(aE===aF[parseInt(aH,10)]){return aF[0]}}}}fish.require("mNotice",function(){(function(){var ao=fish.cookie.get("CnHotelDate"),aq=new Date(),ax=false;if(aq.getHours()>18){ax=true}if(aq.getHours()==18){if(aq.getMinutes()>=30){ax=true}}var ar=ax==false?fish.parseTime():fish.parseTime(new Date(),{days:1});var at=ax==false?fish.parseTime(new Date(),{days:1}):fish.parseTime(new Date(),{days:2});if(ao){e();var ay=fish.cookie.get("CnHotelDate","CnHotelCity");var az=fish.cookie.get("CnHotelDate","CnSecneryName");var am=fish.trim(ay?ay:"");var av=false;if(am&&am!=""&&am!="undefined"){if(decodeURIComponent(am)==="香港"||decodeURIComponent(am)==="澳门"){if(decodeURIComponent(am)==="香港"){fish.dom("#hotelRadio1").checked="checked";var al=fish.cookie.get("CnHotelDate","CityId");if(al&&al!=""&&al!=null){fish.one("#hotelRadio1").attr("cid",al)}var ap=fish.cookie.get("CnHotelDate","CityType");if(ap&&ap!=""&&ap!=null){fish.one("#hotelRadio1").attr("ctype",al)}}else{fish.dom("#hotelRadio2").checked="checked";var al=fish.cookie.get("CnHotelDate","CityId");if(al&&al!=""&&al!=null){fish.one("#hotelRadio2").attr("cid",al)}var ap=fish.cookie.get("CnHotelDate","CityType");if(ap&&ap!=""&&ap!=null){fish.one("#hotelRadio2").attr("ctype",al)}}}else{if(az&&az!==""){for(var aw=0;aw<f.length;aw++){if(decodeURIComponent(az)===f[aw][1]){av=true}}}if(av){fish.one("#txtHotelCity1").val(decodeURIComponent(az))}else{fish.one("#txtHotelCity1").val(decodeURIComponent(am))}var al=fish.cookie.get("CnHotelDate","CityId");if(al&&al!=""&&al!=null){fish.one("#txtHotelCity1").attr("cid",al)}var ap=fish.cookie.get("CnHotelDate","CityType");if(ap&&ap!=""&&ap!=null){fish.one("#txtHotelCity1").attr("ctype",ap)}}}}else{v.val("北京");v.attr("cid","53");v.attr("ctype","0");fish.one("#txtHotelTime1").val(ar);fish.one("#txtHotelTime2").val(at)}var au=fish.parseTime(new Date(),{days:60});fish.one("#txtHotelTime1").mCal({css:D,endTime:fish.parseTime(au,{days:-1}),fn:function(aA){fish.one("#comHotelWeek").html(getWeekCommon(aA));an()}});fish.require("mCal",function(){window.calObj=fish.one("#txtHotelTime2").mCal({css:D,startTime:fish.parseTime(fish.one("#txtHotelTime1").val(),{days:1}),endTime:au,beforeOpen:function(){},fn:function(aA){aj(y,z.warnBox);fish.one("#lvHotelWeek").html(getWeekCommon(aA))}})});function an(){fish.one("#txtHotelTime2").val(fish.parseTime(fish.one("#txtHotelTime1").val(),{days:1}));fish.one("#lvHotelWeek").html(getWeekCommon(fish.parseTime(fish.one("#txtHotelTime1").val(),{days:1})));fish.require("mCal",function(){if(!window.calObj){window.calObj=fish.one("#txtHotelTime2").mCal({css:D,fn:function(aA){aj(y,z.warnBox);fish.one("#lvHotelWeek").html(getWeekCommon(aA))},startTime:fish.parseTime(fish.one("#txtHotelTime1").val(),{days:1}),endTime:fish.parseTime(new Date(),{days:60}),beforeOpen:function(){},open:true})}else{window.calObj.startTime=fish.parseTime(fish.one("#txtHotelTime1").val(),{days:1});window.calObj.setNow(fish.parseTime(fish.one("#txtHotelTime1").val(),{days:1}));window.calObj.show(false,false)}})}fish.one("#txtHotelTime1, #txtHotelTime2").on("keyup",function(aA){var aB;if(!aA){var aA=window.event}if(aA.keyCode){aB=aA.keyCode}else{if(aA.which){aB=aA.which}}aB===13&&K()})})();(function ak(){var al;if(fish.all("#txt_hotelAdministrationName").length){al=fish.dom("#txt_hotelAdministrationName").innerHTML}else{al=""}var am=true;if(fish.all("#txt_hotscenery").length&&fish.all("#txt_hotelAdministration").length){var ao=fish.all("#txt_hotscenery")[0].innerHTML;var an=fish.all("#txt_hotelAdministration")[0].innerHTML;if(ao!=="0"){set_input_place_l=f.length;while(set_input_place_l--){tmpsth_arr=f[set_input_place_l][5].split("#");if(ao===tmpsth_arr[tmpsth_arr.length-1]){document.getElementById("txtHotelCity1").value=f[set_input_place_l][1];break}}}else{if(an!=="0"){C=f.length;while(C--){tmpsta_arr=f[C][5].split("#");if(an===tmpsta_arr[tmpsta_arr.length-2]&&tmpsta_arr[tmpsta_arr.length-1]==="0"){document.getElementById("txtHotelCity1").value=f[C][1];am=false;break}}if(am&&al.length>0&&al!=="0"){document.getElementById("txtHotelCity1").value=document.getElementById("txtCityName").innerHTML}}else{document.getElementById("txtHotelCity1").value=document.getElementById("txtCityName").innerHTML}}}})();d=fish.one("#txtHotelCity1").mNotice({isSelect:true,localData:f,isClick:true,isHover:true,rejects:"#dimCity1",template:'<div class="mNotice-mTab"><h4 class="mNotice-mTab-head">热门城市<span class="mNotice-mTab-head-remark">(可直接输入城市或城市拼音)</span></h4><div id="{tabs-id}" class="mNotice-mTab-wrap"><ul class="mNotice-mTab-tab-tray clearfix"><li class="mNotice-mTab-item current">热门</li><li class="mNotice-mTab-item">ABCDEF</li><li class="mNotice-mTab-item">GHJKLM</li><li class="mNotice-mTab-item">NPQRS</li><li class="mNotice-mTab-item">TWXYZ</li></ul>{contents}</div></div>',mode:"mTab",clickCallback:function(){fish.one(o).attr("ctype",0);fish.one(o).attr("cid",0);fish.one(i).attr("ctype",0);fish.one(i).attr("cid",0);X()},display:function(am,aw){var ao=[],an=[],al=[],aq,ar,ap=0,at=0;if(!(an=au(g,am)).length){return}if(!(al=av(am)).length){return}aw=aw.replace("{tabs-id}","mNotice-mTab-"+this[0].id);ao.push('<div class="mNotice-mTab-content clearfix">');while(aq=an[ap++]){ao.push('<span class="mNotice-normal" title="'+aq.name+'" cid="'+aq.id+'" ctype="'+aq.type+'">'+aq.name+"</span>")}ao.push('</div><div class="mNotice-mTab-content none">');ap=0;while(aq=al[ap++]){ao.push('<dl class="clearfix mNotice-block"><dt class="mNotice-title">'+aq.letter+'</dt><dd class="mNotice-def">');while(ar=aq.cities[at++]){ao.push('<span class="mNotice-normal" title="'+ar.name+'" cid="'+ar.id+'" ctype="'+ar.type+'">'+ar.name+"</span>")}at=0;ao.push("</dd></dl>");if(aq.letter==="F"||aq.letter==="M"||aq.letter==="S"){ao.push('</div><div class="mNotice-mTab-content none">')}if(aq.letter==="Z"){ao.push("</div>")}}return aw.replace("{contents}",ao.join(""));function av(ay){var aC=[],aD=[],ax=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","W","X","Y","Z"],az=0,aB=0,aA,aF,aE;while(aA=ay[az++]){if(aA[2]==="0"){aD.push({name:aA[1],alphabet:aA[4],id:aA[5].split("#")[0],type:aA[2]})}}az=0;while(aA=ax[az++]){aF=aA;aE=[];while(aA=aD[aB++]){if(aA.alphabet.indexOf(aF.toLowerCase())===0){aE.push({name:aA.name,type:aA.type,id:aA.id})}}aC.push({letter:aF,cities:aE});aB=0}return aC}function au(ay,ax){var aD=[],az=0,aC=0,aB,aA;while(aB=ay[az++]){while(aA=ax[aC++]){if(aB===aA[1]){aD.push({name:aB,id:aA[5].split("#")[0],type:aA[2]})}}aC=0}return aD}}});r=fish.one("#txtHotelInfo").mNotice({request:{type:"json",url:h+t},rejects:".listbox_se_place",urlInTime:function(am){var ar=fish.all("#tab_top_hotel .hotel_tab span"),al=fish.all("#otherCtyList input"),aq=fish.all("#otherCtyList .sp_input04"),ap,ao="";if(fish.one(ar[1]).hasClass("hotelIn")){if(fish.dom(al[0]).checked){ap=fish.one(aq[0]).html()}else{ap=fish.one(aq[1]).html()}}else{ap=fish.trim(fish.one("#txtHotelCity1").val())}for(var an=0;an<f.length;an++){if(f[an][1]===ap){ao=f[an][5].split("#")[0]}}return am+"&checkcityid="+N(ap)+"&checkcitytype="+O(ap)+"&comedate="+fish.parseTime(fish.one("#txtHotelTime1").val())+"&leavedate="+fish.parseTime(fish.one("#txtHotelTime2").val())+"&cityid="+ao},inputCaptureEvent:"mousedown",documentCaptureEvent:"mousedown",isClick:true,isHover:true,isSelect:true,clickCallback:function(){window.isCan=1},template:'<div class="mNotice-tray"><span class="mNotice-close"></span>{contents}</div>',display:function(an,aD){if(!an.ErrorCode){return}var aE=an.TrafficTitle,at=an.HotelTraffic,aB=an.SubwayTitle,ar=an.HotelSubway,al=an.AreaTitle,ap=an.HotelArea,az=an.ScenicTitle,aq=an.HotelScenic,au=[],ao=[],aw,av=0;var aC=fish.all("#tab_top_hotel .hotel_tab span"),am=fish.all("#otherCtyList input"),aA=fish.all("#otherCtyList .sp_input04"),ay;if(fish.one(aC[1]).hasClass("hotelIn")){if(fish.dom(am[0]).checked){ay=fish.one(aA[0]).html()}else{ay=fish.one(aA[1]).html()}}else{ay=fish.trim(fish.one("#txtHotelCity1").val())}if(O(ay)==="2"){if(az&&aq.length){ao.push({title:ay+"相关周边",set:aq})}}else{if(aE&&at.length){ao.push({title:aE,set:at})}if(aB&&ar.length){ao.push({title:aB,set:ar})}if(al&&ap.length){ao.push({title:al,set:ap})}if(az&&aq.length){ao.push({title:az,set:aq})}}if(!ao.length){return}while(aw=ao[av]){ax(aw.title,aw.set,av);av++}return aD.replace("{contents}",au.join(""));function ax(aJ,aI,aF){var aH=0,aG;au.push('<h4 class="mNotice-head'+((aF!==0)?" mNotice-separate":"")+'">'+aJ+'</h4><div class="mNotice-content clearfix">');while(aG=aI[aH++]){au.push('<span class="mNotice-normal" title="'+aG[1]+'" cid="'+aG[0]+'" ctype="'+aG[2]+'">'+aG[1]+"</span>")}au.push("</div>")}}});l=fish.one("#txtHotelName").mNotice({request:{type:"json",url:h+n},rejects:".listbox_se_name",urlInTime:function(am){var ar=fish.all("#tab_top_hotel .hotel_tab span"),al=fish.all("#otherCtyList input"),aq=fish.all("#otherCtyList .sp_input04"),ap,ao="";if(fish.one(ar[1]).hasClass("hotelIn")){if(fish.dom(al[0]).checked){ap=fish.one(aq[0]).html()}else{ap=fish.one(aq[1]).html()}}else{ap=fish.trim(fish.one("#txtHotelCity1").val())}for(var an=0;an<f.length;an++){if(f[an][1]===ap){ao=f[an][5].split("#")[0]}}return am+"&checkcityid="+N(ap)+"&checkcitytype="+O(ap)+"&comedate="+fish.one("#txtHotelTime1").val()+"&leavedate="+fish.one("#txtHotelTime2").val()+"&cityid="+ao},inputCaptureEvent:"mousedown",documentCaptureEvent:"mousedown",isClick:true,isHover:true,isSelect:true,clickCallback:function(){window.isCan=1},template:'<div class="mNotice-tray"><span class="mNotice-close"></span>{contents}</div>',display:function(am,aq){if(!am.ErrorCode||!am.Title||!am.HotelChain||!am.HotelChain.length){return}var an=[],al=am.HotelChain,ap,ao=0;an.push('<h4 class="mNotice-head">'+am.Title+'</h4><div class="mNotice-content clearfix">');while(ap=al[ao++]){an.push('<span class="mNotice-normal" title="'+ap[1]+'" cid="'+ap[0]+'" ctype="'+ap[2]+'" legacytype="'+ap[3]+'">'+ap[1]+"</span>")}an.push("</div>");return aq.replace("{contents}",an.join(""))}});x=V("place-warn",v,{x:v.width()+1,y:-27});z=V("time-warn",y,{x:v.width()+1,y:-27});v.on("focus",function(al){x.hide()});v.on("blur",function(al){v.attr("cid",N(v.val()));v.attr("ctype",O(v.val()));setTimeout(X,500)});o.on("focus",function(al){o.addClass("color-normal");r.show()});o.on("blur",function(al){var am=fish.trim(o.val());if(am===s||am===""){o.removeClass("color-normal");o.val(s)}if(B.lastRequestData){ab(o.val(),B.lastRequestData.HotelLocationList,"place")}else{ab(o.val(),[],"place")}r.hide()});i.on("focus",function(al){i.addClass("color-normal");l.show()});i.on("blur",function(am){var an,ao,al,ap=fish.trim(i.val());if(ap===m||ap===""){i.removeClass("color-normal");i.val(m)}if(A.lastRequestData){an=A.lastRequestData.HotelChain;ao=A.lastRequestData.HotelList;if(an.length&&ao.length){al=[an].concat(ao)}else{if(an.length&&!ao.length){al=an}else{if(!an.length&&ao.length){al=ao}else{al=[]}}}ab(i.val(),al,"name")}else{ab(i.val(),[],"name")}l.hide()});fish.on("click",function(al){var am=fish.getTarget(al);while(am!==null){if(am===z.warnBox[0]||am===x.warnBox[0]||am===F[0]){return}am=am.parentNode}z.hide();x.hide()},document);F.hover(function(){if(fish.one(this).hasClass("btn01")){fish.one(this).removeClass("btn01").addClass("btn02")}},function(){if(fish.one(this).hasClass("btn02")){fish.all(this).addClass("btn01").removeClass("btn02")}});F.on("click",function(al){fish.preventDefault(al);K()});p=fish.tempHotelAutoComplete({inputId:"txtHotelInfo",className:"listbox_se_place listbox_se none",firstSelected:false});fish.one("#txtHotelInfo").on("keyup",function(an){var ao=fish.getEvent(an),aq="",ap;if(ao.which){ap=ao.which}else{if(ao.keyCode){ap=ao.keyCode}}if(ap!=40&&ap!=38&&ap!=37&&ap!=39&&ap!=9){var au=fish.one("#txtHotelInfo").val(),at=fish.all("#tab_top_hotel .hotel_tab span"),al=fish.all("#otherCtyList input"),ar=fish.all("#otherCtyList .sp_input04"),am=v.val();if(fish.one(at[1]).hasClass("hotelIn")){if(fish.dom(al[0]).checked){am=fish.one(ar[0]).html()}else{am=fish.one(ar[1]).html()}}aq="place-"+am+"-"+au;R.cacheProp=aq;R.keypressNum=ap;if(au!=""){if(B[aq]){R(B[aq])}else{b&&clearTimeout(b);b=setTimeout(function(){ad(au)},300)}}else{R()}}window.isCan=0});j=fish.tempHotelAutoComplete({inputId:"txtHotelName",className:"listbox_se_name listbox_se none",firstSelected:false});fish.one("#txtHotelName").on("keyup",function(an){var ao=fish.getEvent(an),aq="",ap;if(ao.which){ap=ao.which}else{if(ao.keyCode){ap=ao.keyCode}}if(ap!=40&&ap!=38&&ap!=37&&ap!=39&&ap!=9){var au=fish.one("#txtHotelName").val(),at=fish.all("#tab_top_hotel .hotel_tab span"),al=fish.all("#otherCtyList input"),ar=fish.all("#otherCtyList .sp_input04"),am=v.val();if(fish.one(at[1]).hasClass("hotelIn")){if(fish.dom(al[0]).checked){am=fish.one(ar[0]).html()}else{am=fish.one(ar[1]).html()}}aq="name-"+am+"-"+au;Q.cacheProp=aq;Q.keypressNum=ap;if(au!=""){if(A[aq]){Q(A[aq])}else{b&&clearTimeout(b);b=setTimeout(function(){ac(au)},300)}}else{Q()}}window.isCan=0});w=U()})}function X(){W();Y();aa()}function Z(){Y();aa()}function W(){r.update();l.update()}function Y(){o.removeClass("color-normal");i.removeClass("color-normal")}function aa(){o.val(s);i.val(m)}function N(am){var ak=0,al;while(al=f[ak++]){if(am===al[1]){switch(al[2]){case"0":return al[5].split("#")[0];break;case"1":return al[5].split("#")[1];break;case"2":return al[5].split("#")[2];break}}}return 0}function O(am){var ak=0,al;while(al=f[ak++]){if(am===al[1]){return al[2]}}return 0}function ab(ar,al,ap,ak){var am=0,ao,aq,an=true;switch(ap){case"place":aq=o;break;case"name":aq=i;break}if(al){while(ao=al[am++]){if(fish.trim(ar)===fish.trim(ao[1])){aq.attr("cid",ao[0]);aq.attr("ctype",ao[2]);an=false;return}}}if(window.isCan!==1){aq.attr("cid","0");aq.attr("ctype","0")}}function V(am,ak,an){var ao,ap={},al;if(!(ao=fish.one("#"+am)).length){ao=document.createElement("div");ao.id=am;ao.className="hotel-warn none";ao.innerHTML='<span class="arrow"></span><span class="info">{tips}</span>';document.body.insertBefore(ao,document.body.firstChild)}al=fish.one(ao);ap.show=function(){al.removeClass("none");d.position(al,ak,an)};ap.hide=function(){al.addClass("none")};ap.warnBox=al;return ap}function L(ak){var an=ak.val(),al=0,am;while(am=f[al++]){if(an===am[1]){ak.attr("cid",am[5].split("#")[0]);switch(am[2]){case"0":ak.attr("cid",am[5].split("#")[0]);break;case"1":ak.attr("cid",am[5].split("#")[1]);break;case"2":ak.attr("cid",am[5].split("#")[2]);break}ak.attr("ctype",am[2]);x.hide();return}}ak.attr("cid","0");ak.attr("ctype","0")}function ai(ak,am){L(ak);var al=fish.one(".info",am);if(!fish.trim(ak.val()).length){al[0].innerHTML="请选择您要入住的城市名称！";setTimeout(function(){x.show();d.show()},200);return false}else{if(ak.attr("cid")==="0"){al[0].innerHTML="您查询的城市不存在,请重新选择！";setTimeout(function(){x.show();d.show()},200);return false}}d.hide();return true}function aj(ak,an){var am=fish.one(".info",an),al=T();if(al!==1){if(al===2){am[0].innerHTML="如果您需要在酒店入住20天以上，请致电4007-777-777转1，我们会竭诚为您服务。"}else{if(al===0){am[0].innerHTML="离店日期不能早于或等于入住日期，请您重新选择。"}}setTimeout(function(){z.show()},50);return false}return true}function T(){var ak=fish.dom("#txtHotelTime1").value.split("-"),am=fish.dom("#txtHotelTime2").value.split("-"),an=new Date(ak[0],parseInt(ak[1],10)-u,parseInt(ak[2],10)).getTime(),al=new Date(ak[0],parseInt(ak[1],10)-u,parseInt(ak[2],10)+20).getTime(),am=new Date(am[0],parseInt(am[1],10)-u,am[2]).getTime();if(am<=an){return 0}else{if(am>=al){return 2}else{return 1}}}function ad(al){al=fish.trim(al);var ao=fish.all("#tab_top_hotel .hotel_tab span"),ak=fish.all("#otherCtyList input"),an=fish.all("#otherCtyList .sp_input04"),ap="",am;if(fish.one(ao[1]).hasClass("hotelIn")){if(fish.dom(ak[0]).checked){am=fish.one(an[0]).html()}else{am=fish.one(an[1]).html()}ap="checkcityid="+N(am)+"&checkcitytype="+O(am)+"&comedate="+fish.parseTime(fish.one("#txtHotelTime1").val())+"&leavedate="+fish.parseTime(fish.one("#txtHotelTime2").val())+"&keys="+encodeURIComponent(al)}else{ap="checkcityid="+N(fish.one("#txtHotelCity1").val())+"&checkcitytype="+O(fish.one("#txtHotelCity1").val())+"&comedate="+fish.parseTime(fish.one("#txtHotelTime1").val())+"&leavedate="+fish.parseTime(fish.one("#txtHotelTime2").val())+"&keys="+encodeURIComponent(al)}fish.ajax({url:h+q,data:ap,type:"json",fn:R})}function R(al){B[R.cacheProp]=al;B.lastRequestData=al;if(!al||al.ErrorCode=="0"){p.hide();if(R.keypressNum===13){ab(o.val(),[],"place");K()}return}var ak=al.HotelLocationList,am="position";if(ak&&ak.length>0){if(R.keypressNum!==13){p.show(al,am);d.position(fish.one(p.popup),fish.one("#txtHotelInfo"))}else{p.show(al,am);p.hide()}}else{p.hide()}if(R.keypressNum===13){ab(o.val(),ak,"place");K()}}function ac(al){var ao=fish.all("#tab_top_hotel .hotel_tab span"),ak=fish.all("#otherCtyList input"),an=fish.all("#otherCtyList .sp_input04"),ap="",am;if(fish.one(ao[1]).hasClass("hotelIn")){if(fish.dom(ak[0]).checked){am=fish.one(an[0]).html()}else{am=fish.one(an[1]).html()}ap="checkcityid="+N(am,f)+"&checkcitytype="+O(am,f)+"&comedate="+fish.parseTime(fish.one("#txtHotelTime1").val())+"&leavedate="+fish.parseTime(fish.one("#txtHotelTime2").val())+"&keys="+encodeURIComponent(al)}else{ap="checkcityid="+N(fish.one("#txtHotelCity1").val(),f)+"&checkcitytype="+O(fish.one("#txtHotelCity1").val(),f)+"&comedate="+fish.parseTime(fish.one("#txtHotelTime1").val())+"&leavedate="+fish.parseTime(fish.one("#txtHotelTime2").val())+"&keys="+encodeURIComponent(al)}fish.ajax({url:h+k,data:ap,type:"json",fn:Q})}function Q(an){var al,am,ak,ao;A[Q.cacheProp]=an;A.lastRequestData=an;if(!an||an.ErrorCode=="0"){j.hide();if(Q.keypressNum===13){ab(i.val(),[],"name");K()}return}al=an.HotelChain;am=an.HotelList;if(al.length&&am.length){ak=[al].concat(am)}else{if(al.length&&!am.length){ak=[al]}else{if(!al.length&&am.length){ak=am}else{ak=[]}}}ao="hotelname";if(ak&&ak.length>0){if(Q.keypressNum!==13){j.show(an,ao);d.position(fish.one(j.popup),fish.one("#txtHotelName"))}else{j.show(an,ao)}}else{j.hide()}if(Q.keypressNum===13){ab(i.val(),ak,"name");K()}}function U(){fish.one("#txtHotelCity1").on("keyup",function(al){var an=fish.dom("#txtHotelCity1");if(!al){al=window.event}if(al.keyCode){code=al.keyCode}else{if(al.which){code=al.which}}var am=fish.all("#hidden_dimCity1");Z();if(am.length>0){am=am[0];if(an.value.length>0){if(code===13){if(am.value==an.value){E=1}else{E=-1}ae("City1","dimCity1","iframe1");if(fish.all("#dimCity1 .aHover").length>0){an.value=fish.one("#dimCity1 .aHover .td_rgt").html().replace(/\(.+\)/,"")}am.value=an.value}else{if(code!=38&&code!=40&&code!=37&&code!=39&&code!=9){an.setAttribute("ctype","0");an.setAttribute("cid","0");ae("City1","dimCity1","iframe1");af(an,"dimCity1","iframe1",f,"City1");am.value=an.value}}}else{var ak=fish.dom("#dimCity1");if(ak){ak.style.display="none"}}}else{am=document.createElement("input");am.type="hidden";am.id="hidden_dimCity1";am.value=an.value;fish.dom("#City1").appendChild(am);if(an.value.length>0&&code!=38&&code!=40&&code!=37&&code!=39&&code!=9){ae("City1","dimCity1","iframe1");af(an,"dimCity1","iframe1",f,"City1")}else{var ak=fish.dom("#dimCity1");if(ak){ak.style.display="none"}}}ah(al,"dimCity1","txtHotelCity1","hidden_dimCity1")});fish.on("click",function(ak){var al=fish.getTarget(ak);while(al!==null){if(al.id==="dimCity1"){return}al=al.parentNode}fish.one("#dimCity1").css("display: none;")},document);fish.on("mouseout",function(){E=1;var al=fish.all("#tbl_dimCity1");if(al.length!=0&&al[0].style.display!="none"){var am=fish.all("#tbl_dimCity1 tr");if(am.length>1){for(var ak=0;ak<am.length;ak++){am[ak].className="aOut"}am[1].className="aHover"}}},"#City1");fish.on("mouseover",function(am){var al=fish.all("#dimCity1");if(al.length>0){al=al[0];try{var an=al.getElementsByTagName("tr");if(al.style.display==""||al.style.display=="block"||al.style.display=="inline"){var ak=fish.getTarget(fish.getEvent(am));while(ak&&ak.localName!="body"){ak=ak.parentNode;if(ak!=null){if(ak==al){if(E>=1){try{if(E==1){var ao=fish.all("#tbl_dimCity1 tr");if(fish.getTarget(fish.getEvent(am)).parentNode===ao[1]){return}}if(an[E].className==="aOut"||an[E].className==="aHover"){an[E].className="aOut"}}catch(am){return}}E=0}}}}}catch(am){return}}},"#City1");return{show:function(){fish.one("#dimCity1").css("display: block;")},hide:function(){fish.one("#dimCity1").css("display: none;")}}}function af(aH,au,ax,ar,at){var ay=0,aw=0,aG,aB,ap=[],an=null,am=null,ao=null;function az(aI){for(aw=0;aw<aI.length;aw++){an=aI[aw][1];ao=aI[aw][3];am=aI[aw][4];if(an.indexOf(aH.value)>=0){ap[ap.length]=aI[aw];ay++}else{if(/[a-z]+/.test(aH.value.toLowerCase())&&aH.value.toLowerCase()===ao.substring(0,aH.value.length).toLowerCase()){ap[ap.length]=aI[aw];ay++}else{if(/[a-z]+/.test(aH.value.toLowerCase())&&aH.value.toLowerCase()===am.substring(0,aH.value.length).toLowerCase()){ap[ap.length]=aI[aw];ay++}}}if(ay>=10){break}}}az(ar);var av=document.getElementById(au);var aA=fish.dom("#tbl_"+au);while(aA.rows.length>0){aA.deleteRow(0)}document.getElementById(ax).style.height=((ap.length+1)*19)+"px";if(ap.length>0){aG=document.createElement("tr");aA.appendChild(aG);aB=document.createElement("td");aB.colSpan="2";aB.className="tbl_td1";aB.innerHTML="输入中文/拼音/或↑↓键选择";aG.appendChild(aB)}else{aG=document.createElement("tr");aA.appendChild(aG);aB=document.createElement("td");aB.colSpan="2";aB.className="tbl_td1 noResult";aB.innerHTML="<span style='color:#333'>对不起 ,找不到:</span>"+aH.value;aG.appendChild(aB);aB.style.color="#ff6600";aB.style.borderBottom="none";av.style.display="block";return}for(var aw=0;aw<ap.length;aw++){var aG=document.createElement("tr");aG.className="aOut";if(aw==0&&ap[0]==""){break}if(aw==0&&ar[0]!=""){aG.className="aHover"}var aC=document.createElement("td");aC.innerHTML=ap[aw][3];aC.className="td_lef";var aD=document.createElement("td");var aE;aD.innerHTML=ap[aw][1];var al=ap[aw][5].split("#");var ak=(al[1]=="0")?al[0]:al[1];aD.setAttribute("cid",ak);aD.setAttribute("ctype",ap[aw][2]);aE=ap[aw][5].split("#");var aF;var aq="";aF=ap[aw][6].split("#");if(ap[aw][7]==="1"){aq=aF[0];aD.innerHTML+="("+aq+")"}else{if(ap[aw][7]==="2"){aq=aF[1];aD.innerHTML+="("+aq+")"}}aD.className="td_rgt";aG.appendChild(aC);aG.appendChild(aD);aG.onmouseover=function(){this.className="aHover"};aG.onmouseout=function(){this.className="aOut"};aG.onclick=function(){var aI=this.getElementsByTagName("td");aH.value=aI[1].innerHTML.replace(/\(.+\)/,"");aH.setAttribute("cid",aI[1].getAttribute("cid"));aH.setAttribute("ctype",aI[1].getAttribute("ctype"));document.getElementById(au).style.display="none"};aA.appendChild(aG)}if(ap.length>0){E=1}else{E=0}av.style.display="block"}function ae(ao,al,an){var ap=document.getElementById(ao);if(ap){var ak=document.getElementById(al);if(!ak){ak=document.createElement("div");ak.className="dimCity";ak.id=al;var am=document.createElement("iframe");am.className="six_iframe";am.id=an;ak.appendChild(am);var aq=document.createElement("table");aq.className="soso_tbl";aq.cellPadding="0";aq.cellSpacing="0";var ar=document.createElement("tbody");ar.id="tbl_"+al;aq.appendChild(ar);ak.appendChild(aq);ap.appendChild(ak)}}}function ah(an,ak,aq,ao){try{var al;var am=fish.dom("#"+ak);var ar=fish.dom("#"+aq);if(fish.all(am).length!=0){var ap=am.getElementsByTagName("tr");if(am.style.display==""||am.style.display=="inline"||am.style.display=="block"){if(!an){var an=window.event}if(an.keyCode){al=an.keyCode}else{if(an.which){al=an.which}}if(al==40){if(E>=ap.length-1){E=ap.length-1}else{E++}}if(al==38){if(E<=1){E=1}else{E--}}if(al==13){if(am.style.display!="none"){if(E>=1){if(E>0){am.style.display="none";E=1}}}}if(al==38||al==40){ag(ap,ar,al,ao)}}}}catch(an){return}}function ag(ap,ar,ak,an){try{var aq;for(var ao=0;ao<ap.length;ao++){if(ap[ao].className==="aOut"||ap[ao].className==="aHover"){ap[ao].className="aOut"}}if(E>=1&&E<ap.length){if(ap[E].className!="aOut"){if(ak==38){E--}if(ak==40){E++}}if(ap[E].className=="aOut"){ap[E].className="aHover";aq=ap[E].getElementsByTagName("td");ar.value=aq[1].innerHTML.replace(/\(.+\)/,"");ar.setAttribute("cid",N(ar.value,f));ar.setAttribute("ctype",O(ar.value,f))}var al=document.getElementById(an);if(al){al.value=ar.value}}}catch(am){return}}function K(){var al,an,am,ao,ap,av,ax,aw,ay,au,az,aG,aq,at,ar,aF,aD,aA,aE=fish.all("#tab_top_hotel .hotel_tab span"),ak=fish.all("#otherCtyList input"),aC=fish.all("#otherCtyList .sp_input04"),aB="";if(aj(y,z.warnBox)){if(fish.one(aE[1]).hasClass("hotelIn")){if(fish.dom(ak[0]).checked){al=fish.one(ak[0]).attr("cid");an=fish.one(ak[0]).attr("ctype");am=fish.one(aC[0]).html()}else{al=fish.one(ak[1]).attr("cid");an=fish.one(ak[1]).attr("ctype");am=fish.one(aC[1]).html()}}else{if(ai(v,x.warnBox)){al=v.attr("cid");an=v.attr("ctype");am=v.val()}}ao=fish.parseTime(fish.one("#txtHotelTime1").val());ap=fish.parseTime(fish.one("#txtHotelTime2").val());av=o.attr("cid");ax=o.attr("ctype");aw=o.val();ay=aw;au=av;az=ax;aG=fish.trim(aw);(aG===s||aG==="")&&(aw="");aq=i.attr("cid");at=i.attr("ctype");ar=i.val();aF=fish.trim(ar);(aF===m||aF==="")&&(ar="");if(v.attr("ctype")==="2"){aD=P(am);if(aw===""){av=al;ax=1;aw=am}al=aD.cid;an=aD.ctype;aB=am}aA="data/HotelSearchInterface.aspx?action=HotelSearchJumpUrl&checkcityid="+al+"&checkcitytype="+an+"&comedate="+ao+"&leavedate="+ap+"&locationid="+av+"&hotellocationtype="+ax+"&hotellocationname="+encodeURIComponent(aw)+"&nameid="+aq+"&hotelnametype="+at+"&hotelname="+encodeURIComponent(ar);fish.cookie.set({domain:".17u.cn",name:"CnHotelDate",value:"CnHotelComeDate="+ao+"&CnHotelLeaveDate="+ap+"&CnHotelPrice=0&CnHotelCity="+encodeURIComponent(am)+"&CnSecneryName="+encodeURIComponent(aB)+"&CityType="+an+"&CityId="+al+"&locationType="+az+"&locationId="+au+"&location="+encodeURIComponent(ay),path:"/",days:10,encode:false});fish.ajax({type:"json",url:aA,fn:function(aH){var aJ,aK,aI;if(aH&&aH.ErrorCode==="0"&&fish.trim(aH.ErrorReason).length!==0){ai(v,x.warnBox);aj(y,z.warnBox)}else{if(aH&&aH.ErrorCode==="1"){aI=location.host;if(aI.indexOf("17u.cn")>-1){aJ="http://www.17u.cn/"+aH.SearchUrl}else{aJ="http://"+aI+"/"+aH.SearchUrl}if(fish.browser("ms")){aK=document.createElement("a");aK.href=aJ;fish.one(document.body).html("bottom",aK);aK.click()}else{location.href=aJ}}}}})}}function P(an){var ak=0,al,am={};while(al=f[ak++]){if(an===al[1]){am.cid=al[5].split("#")[0];am.ctype=O(al[6].split("#")[0]);return am}}}var S=fish.browser("ms",6);if(S){setTimeout(function(){G()},0)}else{G()}function G(){var ak=fish.one("#tab_top_hotel");ak.mTab({tab:".hotel_tab span",normal:"nor",replace:"hotelIn",content:".otcitylist",cookieName:"tab_top_hotel_index",aliveTime:{days:7}})}I();function I(){fish.all("#tab_top_hotel .hotel_tab span").on("click",function(){setTimeout(function(){X()},10)})}H();function H(){fish.all("#hotelRadio1,#hotelRadio2").on("click",function(){X()})}}});function e(){var J=fish.cookie.get("CnHotelDate","CnHotelComeDate"),G=fish.cookie.get("CnHotelDate","CnHotelLeaveDate"),I=fish.parseTime(new Date()),H=fish.parseTime(new Date(),{days:1});if(fish.parseTime(J)<fish.parseTime(I)){fish.one("#txtHotelTime1").val(I)}else{fish.one("#txtHotelTime1").val(J)}if(fish.parseTime(G)<fish.parseTime(H)){fish.one("#txtHotelTime2").val(H)}else{fish.one("#txtHotelTime2").val(G)}fish.one("#comHotelWeek").html(getWeekCommon(fish.one("#txtHotelTime1").val()));fish.one("#lvHotelWeek").html(getWeekCommon(fish.parseTime(fish.one("#txtHotelTime2").val())))}};fish.extend({hotelSearch:a});if(fish.all("#tab_top_hotel .input02").length>0){fish.all("#txtHotelInfo,#txtHotelName").on("click",function(){var b=this.id;if(b==="txtHotelInfo"){if(this.value==="商圈/行政区/地标"){this.value=""}}else{if(this.value==="酒店名称/品牌"){this.value=""}}})}})();fish.ready(fish.hotelSearch);