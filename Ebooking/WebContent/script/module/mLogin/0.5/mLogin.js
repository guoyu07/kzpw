/*from tccdn minify at 2013-12-27 0:37:59,file：/cn/public/module/mLogin/0.5/mLogin.js?v=13092401,file：/cn/public/module/autoComplete/0.4.4/autoComplete.js?v=13121801,file：/cn/public/module/mCal/1.1.4/mCal.js?v=13112801,file：/cn/public/module/mNotice/0.4.2/mNotice.js?v=13082101*/
(function(){function a(o){function p(r,x){var C,B,K,E,D;K=r&2147483648;E=x&2147483648;C=r&1073741824;B=x&1073741824;D=(r&1073741823)+(x&1073741823);if(C&B){return D^2147483648^K^E}return C|B?D&1073741824?D^3221225472^K^E:D^1073741824^K^E:D^K^E}function F(r,x,C,B,K,E,D){r=p(r,p(p(x&C|~x&B,K),D));return p(r<<E|r>>>32-E,x)}function G(r,x,C,B,K,E,D){r=p(r,p(p(x&B|C&~B,K),D));return p(r<<E|r>>>32-E,x)}function H(r,x,C,B,K,E,D){r=p(r,p(p(x^C^B,K),D));return p(r<<E|r>>>32-E,x)}function I(r,x,C,B,K,E,D){r=p(r,p(p(C^(x|~B),K),D));return p(r<<E|r>>>32-E,x)}function J(r){var x="",C="",B;for(B=0;B<=3;B++){C=r>>>B*8&255;C="0"+C.toString(16);x+=C.substr(C.length-2,2)}return x}var A=[],q,t,v,y,s,u,w,z;o=function(r){r=r.replace(/\r\n/g,"\n");for(var x="",C=0;C<r.length;C++){var B=r.charCodeAt(C);if(B<128){x+=String.fromCharCode(B)}else{if(B>127&&B<2048){x+=String.fromCharCode(B>>6|192)}else{x+=String.fromCharCode(B>>12|224);x+=String.fromCharCode(B>>6&63|128)}x+=String.fromCharCode(B&63|128)}}return x}(o);A=function(r){var x,C=r.length;x=C+8;for(var B=((x-x%64)/64+1)*16,K=Array(B-1),E=0,D=0;D<C;){x=(D-D%4)/4;E=D%4*8;K[x]|=r.charCodeAt(D)<<E;D++}K[(D-D%4)/4]|=128<<D%4*8;K[B-2]=C<<3;K[B-1]=C>>>29;return K}(o);s=1732584193;u=4023233417;w=2562383102;z=271733878;for(o=0;o<A.length;o+=16){q=s;t=u;v=w;y=z;s=F(s,u,w,z,A[o+0],7,3614090360);z=F(z,s,u,w,A[o+1],12,3905402710);w=F(w,z,s,u,A[o+2],17,606105819);u=F(u,w,z,s,A[o+3],22,3250441966);s=F(s,u,w,z,A[o+4],7,4118548399);z=F(z,s,u,w,A[o+5],12,1200080426);w=F(w,z,s,u,A[o+6],17,2821735955);u=F(u,w,z,s,A[o+7],22,4249261313);s=F(s,u,w,z,A[o+8],7,1770035416);z=F(z,s,u,w,A[o+9],12,2336552879);w=F(w,z,s,u,A[o+10],17,4294925233);u=F(u,w,z,s,A[o+11],22,2304563134);s=F(s,u,w,z,A[o+12],7,1804603682);z=F(z,s,u,w,A[o+13],12,4254626195);w=F(w,z,s,u,A[o+14],17,2792965006);u=F(u,w,z,s,A[o+15],22,1236535329);s=G(s,u,w,z,A[o+1],5,4129170786);z=G(z,s,u,w,A[o+6],9,3225465664);w=G(w,z,s,u,A[o+11],14,643717713);u=G(u,w,z,s,A[o+0],20,3921069994);s=G(s,u,w,z,A[o+5],5,3593408605);z=G(z,s,u,w,A[o+10],9,38016083);w=G(w,z,s,u,A[o+15],14,3634488961);u=G(u,w,z,s,A[o+4],20,3889429448);s=G(s,u,w,z,A[o+9],5,568446438);z=G(z,s,u,w,A[o+14],9,3275163606);w=G(w,z,s,u,A[o+3],14,4107603335);u=G(u,w,z,s,A[o+8],20,1163531501);s=G(s,u,w,z,A[o+13],5,2850285829);z=G(z,s,u,w,A[o+2],9,4243563512);w=G(w,z,s,u,A[o+7],14,1735328473);u=G(u,w,z,s,A[o+12],20,2368359562);s=H(s,u,w,z,A[o+5],4,4294588738);z=H(z,s,u,w,A[o+8],11,2272392833);w=H(w,z,s,u,A[o+11],16,1839030562);u=H(u,w,z,s,A[o+14],23,4259657740);s=H(s,u,w,z,A[o+1],4,2763975236);z=H(z,s,u,w,A[o+4],11,1272893353);w=H(w,z,s,u,A[o+7],16,4139469664);u=H(u,w,z,s,A[o+10],23,3200236656);s=H(s,u,w,z,A[o+13],4,681279174);z=H(z,s,u,w,A[o+0],11,3936430074);w=H(w,z,s,u,A[o+3],16,3572445317);u=H(u,w,z,s,A[o+6],23,76029189);s=H(s,u,w,z,A[o+9],4,3654602809);z=H(z,s,u,w,A[o+12],11,3873151461);w=H(w,z,s,u,A[o+15],16,530742520);u=H(u,w,z,s,A[o+2],23,3299628645);s=I(s,u,w,z,A[o+0],6,4096336452);z=I(z,s,u,w,A[o+7],10,1126891415);w=I(w,z,s,u,A[o+14],15,2878612391);u=I(u,w,z,s,A[o+5],21,4237533241);s=I(s,u,w,z,A[o+12],6,1700485571);z=I(z,s,u,w,A[o+3],10,2399980690);w=I(w,z,s,u,A[o+10],15,4293915773);u=I(u,w,z,s,A[o+1],21,2240044497);s=I(s,u,w,z,A[o+8],6,1873313359);z=I(z,s,u,w,A[o+15],10,4264355552);w=I(w,z,s,u,A[o+6],15,2734768916);u=I(u,w,z,s,A[o+13],21,1309151649);s=I(s,u,w,z,A[o+4],6,4149444226);z=I(z,s,u,w,A[o+11],10,3174756917);w=I(w,z,s,u,A[o+2],15,718787259);u=I(u,w,z,s,A[o+9],21,3951481745);s=p(s,q);u=p(u,t);w=p(w,v);z=p(z,y)}return(J(s)+J(u)+J(w)+J(z)).toLowerCase()}function b(o){for(var p=[],q=null,r=0,s=o.elements.length;r<s;r++){q=o.elements[r];if(q.name!==""){switch(q.type){case"password":p.push(encodeURIComponent(q.name)+"="+encodeURIComponent(a(q.value)));break;case"button":break;case"checkbox":if(!q.checked){break}default:p.push(encodeURIComponent(q.name)+"="+encodeURIComponent(q.value))}}}return p.join("&")}function h(o){return document.getElementById(o)}function j(o,p){return function(){p.apply(o,arguments)}}function k(o,p){if(o&&p){o.innerHTML=p;fish.one(o).removeClass("none")}}function l(o){if(o){o.innerHTML="";fish.one(o).addClass("none")}}function c(o){var p=function(){},q={};fish.lang.extend(q,{url:"",timeout:8000,inFormId:"",outFormId:"#",nameInputId:"",passWordInputId:"",remebInputId:"",validCodeInputId:"",enableUsername:true,loginBtnId:"",waitLoginId:"",logoutBtnId:"#",waitLogoutId:"#",tipsId:"#",userNameId:"#",onSuccessLogin:p,onSuccessExit:p,onPassFailed:p,onNameFailed:p,onLoginFailed:p,onExitFailed:p,onLogining:p,onExiting:p,onAbort:p,onTimeout:p});fish.lang.extend(q,o);fish.lang.extend(this,q);this.init()}function d(o){var p={url:"",timeout:8000,onTimeout:function(){},onAbort:function(){},onError:function(){},onLoginCallBack:function(){},onExitCallBack:function(){},onStartLogin:function(){},onStartExit:function(){}};fish.lang.extend(p,o);fish.lang.extend(this,p);this.init()}function m(o,p){if(window.location.host.indexOf(".17u.cn")>-1){window.document.domain="17u.cn"}if(o.showSignin){o.showSignup=o.showSignin}var q=function(){};q={showing:false,title:"",show:false,showSignupFirst:false,showSignup:false,showBooking:false,showSearch:false,showPartner:false,enableUsername:true,username:"",loginUrl:"/Member/MemberLoginAjax.aspx",signupUrl:"/Member/MemberLoginAjax.aspx",getPassUrl:"http://passport.17u.cn/member/GetPasswordAjaxCall.aspx?Type=GetCodeByMoblie",verifyPassUrl:"http://passport.17u.cn/member/GetPasswordAjaxCall.aspx?Type=ValidCodeByMoblie",resetPassUrl:"http://passport.17u.cn/member/GetPasswordAjaxCall.aspx?Type=ChangePassword&typeid=1",getPassTimeout:60,getPassTimer:null,reload:false,onLogin:q,onOpen:q,onPassBoxOpen:q,onResetBoxOpen:q,onBooking:q,onSearch:q,onClose:q};var r,s={};r=fish.lang.proto(mLoginFn);fish.lang.extend(s,q);fish.lang.extend(s,o);fish.lang.extend(r,s);r.init();p&&p(r);i.push(r);return r}window.MD5=a;var e=function(o){fish.lang.extend(this,o)};e.prototype={abort:function(){this.ajaxObj&&this.ajaxObj.abort()},send:function(){this.ajaxObj=fish.ajax({type:"json",url:this.url,timeout:this.timeout,data:this.data,fn:this.fn,err:this.err,onTimeout:this.onTimeout})}};var g={login:false,passWord:false,passSending:false,passSubmit:false,resetPass:false,passValida:false,restPassWord:false,repeatNewPassword:false};c.prototype={set:function(o){fish.lang.extend(this,o)},init:function(){this.inForm=h(this.inFormId);this.outForm=h(this.outFormId);this.nameInput=h(this.nameInputId);this.passWordInput=h(this.passWordInputId);this.remebInput=h(this.remebInputId);this.loginBtn=h(this.loginBtnId);this.logoutBtn=h(this.logoutBtnId);this.waitLogin=h(this.waitLoginId);this.waitLogout=h(this.waitLogoutId);this.tips=h(this.tipsId);this.userName=h(this.userNameId);this.validCodeInput=h(this.validCodeInputId);var o=this;this.inForm.onsubmit=function(q){fish.preventDefault(q)};this.loginBtn.onclick=function(){o.login.call(o)};if(this.outForm){this.outForm.onsubmit=function(q){fish.preventDefault(q)}}if(this.logoutBtn){this.logoutBtn.onclick=function(){o.exit.call(o)}}this.nameInput.setAttribute("placeholderOption","手机/邮箱");this.passWordInput.value="";this.nameInput.onfocus=this.passWordInput.onfocus=function(){this.value=fish.trim(this.value);if(this.value===this.getAttribute("placeholderOption")){this.value=""}this.style.color="#000000"};this.nameInput.onclick=this.passWordInput.onclick=function(){};var p;this.nameInput.onblur=p=function(){this.value=fish.trim(this.value);if(this.value===""){this.style.color="#666666";this.value=this.getAttribute("placeholderOption")}else{this.style.color=this.value===this.getAttribute("placeholderOption")?"#666666":"#000000"}};p.apply(this.nameInput);this.nameInput.onkeypress=this.passWordInput.onkeypress=this.remebInput.onkeypress=function(q){if((window.ActiveXObject?event.keyCode:q.which)==13){fish.preventDefault(q);o.login()}};if(this.validCodeInput){this.validCodeInput.onkeypress=function(q){if((window.ActiveXObject?event.keyCode:q.which)==13){fish.preventDefault(q);o.login()}}}this.lCore=new d({url:this.url,timeout:this.timeout,onTimeout:j(o,o.onTimeout),onError:j(o,o.onFailed),onLoginCallBack:j(o,o.onLoginCallBack),onExitCallBack:j(o,o.onExitCallBack),onStartLogin:j(o,o.onStartLogin),onStartExit:j(o,o.onStartExit),onAbort:j(o,o.onAbort)})},showLogining:function(){this.loginBtn.style.display="none";this.waitLogin.style.display="block";this.nameInput.disabled=this.passWordInput.disabled=this.remebInput.disabled="disabled"},showLoginNormal:function(){this.loginBtn.style.display="inline";this.waitLogin.style.display="none";if(this.enableUsername){this.nameInput.disabled=null}this.passWordInput.disabled=this.remebInput.disabled=null},showExiting:function(){if(this.logoutBtn){this.logoutBtn.style.display="none"}if(this.waitLogout){this.waitLogout.style.display="block"}},showExitNormal:function(){if(this.logoutBtn){this.logoutBtn.style.display="inline"}if(this.waitLogout){this.waitLogout.style.display="none"}},logState:function(){return this.lCore.logState()},login:function(){if(fish.trim(this.nameInput.value).length===0||fish.trim(this.nameInput.value)=="手机/邮箱"){k(this.tips,"请输入您的登录名");this.onLoginFailed()}else{if(fish.trim(this.passWordInput.value).length===0){k(this.tips,"请输入您的密码");this.onLoginFailed()}else{if(this.validCodeInput&&fish.trim(this.validCodeInput.value).length===0){k(this.tips,"请输入验证码");this.onLoginFailed()}else{this.lCore.login(this.inForm,this.timeout);this.passWordInput.value=""}}}},exit:function(){this.outForm&&this.lCore.exit(this.outForm,this.timeout)},abort:function(){if(this.logState()==="login"){this.showLoginNormal()}else{this.logState()==="exit"&&this.showExitNormal()}this.lCore.abort()},onFailed:function(o){if(this.logState()==="login"){this.showLoginNormal();k(this.tips,"抱歉，登录失败，请重试。");this.onLoginFailed(o)}else{if(this.logState()==="exit"){this.showExitNormal();this.onExitFailed(o)}}},onLoginCallBack:function(o){this.showLoginNormal();switch(o.state){case 100:this.onSuccessLogin(o);if(this.userName){this.userName.innerHTML=o.name}break;case 200:this.onPassFailed(o);this.onLoginFailed(o);this.passWordInput.select();k(this.tips,"用户名或密码错误，请重新输入。");break;case 300:this.onNameFailed(o);this.onLoginFailed(o);this.nameInput.select();k(this.tips,"用户名或密码错误，请重新输入。");break;case 400:this.onLoginFailed(o);this.validCodeInput.select();k(this.tips,"验证码错误，请重新输入。");break;default:this.onFailed(o)}},onExitCallBack:function(o){this.showExitNormal();switch(o.state){case 100:this.onSuccessExit(o);fish.cookie.set({name:"loginRecord",days:-1});break;default:this.onFailed(o)}},onStartLogin:function(){this.onLogining();this.showLogining()},onStartExit:function(){this.onExiting();this.showExiting()}};d.prototype={init:function(){var o=this;this.ajaxObj=new e({url:this.url,timeout:this.timeout,data:"",fn:function(p){if(o.logState()==="login"){o.onLoginCallBack(p)}else{if(o.logState()==="exit"){o.onExitCallBack(p)}}},onTimeout:o.onTimeout,err:o.onError})},logState:function(){if(this.ajaxObj.data.indexOf("action=login")>=0){return"login"}else{if(this.ajaxObj.data.indexOf("action=exit")>=0){return"exit"}}},login:function(o){this.onStartLogin();o=b(o);this.setCookie(o);this.ajaxObj.data=o+"&action=login";this.ajaxObj.send()},exit:function(o){this.onStartExit();this.ajaxObj.data=b(o)+"&action=exit";this.ajaxObj.send()},abort:function(){this.ajaxObj.abort();this.onAbort()},setCookie:function(o){o=o.split("&");for(var p=7,q,r=true,s=o.length-1;s>=0;s--){if(o[s].indexOf("remIt")>=0&&o[s].indexOf("remIt")<=(q=o[s].indexOf("="))){p=parseInt(o[s].slice(q+1));if(isNaN(p)||p<=0){fish.cookie.set({name:"loginRecord",days:-1});return}o.splice(s,1);r=false;break}}r?fish.cookie.set({name:"loginRecord",days:-1}):fish.cookie.set({name:"loginRecord",value:o.join("&"),days:p,domain:strHost,encode:false,path:"/"})}};var f={passnum:/^[\d|{a-zA-Z}]{6}$/,password:/^[\d|{a-zA-Z}]{6,16}$/},i=[];m.onSignUpSuccess=function(){for(var o=0;o<i.length;o++){i[o].showing&&i[o].onLogin&&i[o].onLogin()}};m.onSwitchToLogin=function(){for(var o=0;o<i.length;o++){i[o].showing&&i[o].open&&i[o].open()}};mLoginFn={bulidLogin:function(){fish.one(this.holder).html("bottom",'<div id="mLogin_login" class="mLogin">                    <div class="mLogin_bg"></div>                    <div class="mLogin_content clearfix">                        <div class="top_login">                           <span class="btn_close"></span>                        </div>                        <div class="mLogin_stips">                        \t<span class="mLogin_stext"></span>搜特权，须登录                        </div>                        <div class="mLogin_info">                           <form action="" id="login_form_pop_mLogin">\t                           <div class="login_content">\t                           \t\t<div class="login_box clearfix">\t                                   <div class="login_tips clearfix">\t                                       <span class="none tipsText" id="titleTips_pop_mLogin">用户名或密码错误</span>\t                                   </div>\t                                   <div class="mLogin_list clearfix">                                           <label for="account_pop_mLogin" class="mLogin_left">                                           登录名</label>\t                                       <span class="mLogin_right">\t                                           <input type="text" placeholder="手机/邮箱" name="name" maxlength="30" id="account_pop_mLogin" placeholderoption="手机/邮箱" >\t                                       </span>\t                                   </div>\t                                   <div class="mLogin_list clearfix">                                           <label for="actpwd_pop_mLogin" class="mLogin_left">                                           密&nbsp;&nbsp;码</label>\t                                       <span class="mLogin_right">\t                                           <input type="password" name="pass" maxlength="30" id="actpwd_pop_mLogin">\t                                       </span>\t                                   </div>\t                                   <div class="none mLogin_remember mLogin_list">                                           <input type="checkbox" checked="" id="rem_it_1w_pop_mLogin" class="ceck">                                           <label class="ri1_label" for="rem_it_1w_pop_mLogin">                                               记住密码（一周）</label>\t                                   </div>\t                                   <div class="mLogin_signon clearfix">\t\t\t                               <span class="clearfix">\t\t\t\t                               <a class="login_btn btn_outer clearfix" href="javascript:;" id="sign_in_btn_pop_mLogin"><span class="fbtn_inner">登&nbsp;录</span></a>\t\t\t\t                               <span id="logining_pop_mLogin" style="display: none;" class="wait4sign">\t\t\t\t                                   <img alt="" src="http://img1.40017.cn/cn/new_ui/public/images/wait.gif"></span>\t\t\t\t                               <a class="forget_password" href="http://Passport.17u.cn/Passport/GetPassword/" target="_blank">\t\t\t\t                                   忘记密码？</a>\t\t\t\t                           </span>\t\t\t\t                           <p class="signon_tips clearfix">会员登录后搜索，可享受差异化服务、<br />更低价格、专属产品、特权待遇。</p>\t                                   </div>\t                               </div>\t                               <div class="clearfix">\t                                   <span class="partner none">\t                                           <div class="partnerLogin clearfix">\t                                                <span class="l_baidu">\t                                                    <a class="a_partner" href="http://passport.17u.cn/Login/IntermediateParty/?FromType=baidu"\t                                                     nhref="http://passport.17u.cn/Login/IntermediateParty/?FromType=baidu&pageurl={backurl}"\t                                                      title="百度帐号绑定" rel="nofollow">百度</a>\t                                                </span>\t                                           </div>\t                                       </td>\t                                   </span>\t                                   <span class="signin none">\t                                       <div class="boxtr clearfix">\t                                            <span class="l2_text">还不是同程会员？\t                                            </span><a class="free_signup" target="_blank" href="http://passport.17u.cn/register/index/" title="注册">免费注册</a>\t                                       </div>\t                                   </span>\t                               </div>\t                           </div>                           </form>                        </div>                        <div class="mLogin_info none l_border">                           <h3 class="pg_tit">                               直接预订</h3>                           <div class="yd_content"><p>此预订方式将<span class="spec">无法享受</span>点评奖金、现金券和积分优惠。</p>                               <a class="yd_bton btn_outer clearfix" href="javascript:;" id="mLogin_btn"><span class="fbtn_inner">直接预订</span></a>                           </div>                        </div>                        <div class="l_search none">                           <h3 class="pg_tit">                           \t直接搜索</h3>                           <div class="yd_content"><p>无需登录，直接搜索</p>                           \t\t<p>无法享受专属产品、会员优惠</p>                               <a class="yd_bton btn_outer clearfix" href="javascript:;" id="search_btn"><span class="fbtn_inner">直接搜索</span></a>                           </div>                           <div class="l_searchbg"></div>                        </div>                    </div>                </div>')},bulidPass:function(){fish.one(this.holder).html("bottom",'<div id="mLogin_pass" class="mLogin_content submit_pass clearfix">                    <div class="top_login">                       <span class="btn_close"></span>                    </div>                    <p class="sns_sending clearfix">                        <span class="tips_top">我们已向您的手机<span class="phonenum"></span>发送验证码，请您收到后输入验证码</span>                        <a class="sending_btn btn_a_outer clearfix" href="javascript:;"><span class="btn_a_inner">获取验证码</span></a>                    </p>                    <p class="sns_valida clearfix">                        <label class="valida_label" for="valida_input">您收到的验证码：</label>                        <input id="valida_input" class="valida_code" maxlength="6" type=text value=""/>                        <span class="valida_tips">请输入6位验证码</span>                        <span class="valida_err">验证码错误，请重输</span>                    </p>                    <p class="btn_line clearfix">                        <a class="submit_btn btn_outer clearfix" href="javascript:;">                            <span class="fbtn_inner">提&nbsp;交</span></a>                        <span style="display: none;" class="wait4sign_a submit_btn">                        <img alt="" src="http://img1.40017.cn/cn/new_ui/public/images/wait.gif"></span>                        <span class="btn_tips"></span>                    </p>                    <p class="tips_line">                        如果您的手机已停机或其他原因无法获取验证码，请致电 4007-777-777 转3 人工服务                    </p>                </div>')},bulidResetPass:function(){fish.one(this.holder).html("bottom",'<div id="mLogin_resetpass" class="mLogin_content new_pass clearfix">                    <div class="top_login">                       <span class="btn_close"></span>                    </div>                <table cellspacing="0" cellpadding="0" border="0" class="pass_content">                               <tbody>                                   <tr>                                       <th>                                           <label class="passlabel" for="mLogin_resetpassword">                                               新密码：</label>                                       </th>                                       <td>                                           <input type="password" class="passinput" id="mLogin_resetpassword" maxlength="30" >                                       </td>                                       <td>                                           <p class="tips">密码由6-16位字符(字母、数字)组成，区分大小写</p><span class="valida_err password_new_err">验证码错误，请重输</span>                                       </td>                                   </tr>                                   <tr>                                       <th>                                           <label class="passlabel" for="mLogin_repeatpassword">                                               确认密码：</label>                                       </th>                                       <td>                                           <input type="password" class="passinput" id="mLogin_repeatpassword" maxlength="30" >                                       </td>                                       <td>                                           <span class="valida_err password_repeat_err">验证码错误，请重输</span>                                       </td>                                   </tr>                                   <tr class="btn_rol">                                       <th>                                       </th>                                       <td colspan="2">                                           <a class="pass_btn btn_outer clearfix" href="javascript:;"><span class="fbtn_inner">完&nbsp;成</span></a>                                           <span style="display: none;" class="wait4sign_a">                                               <img alt="" src="http://img1.40017.cn/cn/new_ui/public/images/wait.gif"></span>                                               <span class="btn_tips"></span>                                       </td>                                   </tr>                               </tbody>                           </table>                </div>')},bulidSingup:function(){fish.one(this.holder).html("bottom",'<div id="freeSignup" class="free_signupBox clearfix">                    <div class="free_title">快速注册</div>                    <div class="free_content clearfix">                        <div class="top_login">                           <span class="btn_close"></span>                        </div>                        <div class="free_info">                        \t<div class="free_infoBox">\t                        \t<iframe frameborder="0" _src="http://passport.17u.cn/register/MemberRegister/" class="port_signUp">                        \t\t</iframe>                        \t</div>                        \t<div class="clearfix free_haveLogin">                        \t\t我已注册，<a href="http://passport.17u.cn" class="downOpenLogin">立即登录</a>                        \t</div>                        </div>                    </div>    \t\t\t</div>')},init:function(){function o(){if(p.showing){fish.mPop.close();p.onClose()}}var p=this;fish.dom("#mLogin_holder")||fish.one(document.body).html("bottom","<div id='mLogin_holder' style='position:absolute;left:-1000px;top:-10000px'></div>");this.holder=fish.dom("#mLogin_holder");fish.dom("#mLogin_login")||this.bulidLogin();this.loginElem=fish.dom("#mLogin_login");this.__loginContentElem=fish.one(".mLogin_content",this.loginElem);this.__signupElem=fish.one(".free_signup",this.loginElem);fish.dom("#mLogin_pass")||this.bulidPass();this.passElem=fish.dom("#mLogin_pass");fish.dom("#mLogin_resetpass")||this.bulidResetPass();this.resetPassElem=fish.dom("#mLogin_resetpass");fish.dom("#freeSignup")||this.bulidSingup();this.freeSignupElem=fish.dom("#freeSignup");if(this.enableUsername){fish.dom("#account_pop_mLogin").disabled=null}else{fish.one("#account_pop_mLogin").attr("disabled","disabled")}this.username?fish.one("#account_pop_mLogin").val(this.username):fish.one("#account_pop_mLogin").val("");this.title?fish.all(".mLogin_bg",this.loginElem).html(this.title):fish.all(".mLogin_bg",this.loginElem).html("");if(this.showPartner){fish.all(".partner",this.loginElem).removeClass("none");fish.all(".a_partner").on("click",function(){this.href=this.getAttribute("nhref").replace("{backurl}",encodeURIComponent(window.location.href))})}else{fish.all(".partner",this.loginElem).addClass("none")}this.showSignup?fish.all(".signin",this.loginElem).removeClass("none"):fish.all(".signin",this.loginElem).addClass("none");fish.one(".btn_close",this.loginElem).on("click",o);fish.one(".btn_close",this.passElem).on("click",o);fish.one(".btn_close",this.resetPassElem).on("click",o);fish.one(".btn_close",this.freeSignupElem).on("click",o);this.resetBookingBoxState&&this.resetBookingBoxState();this.loginObj=new c({url:this.loginUrl,enableUsername:this.enableUsername,userNameId:"user_name",inFormId:"login_form_pop_mLogin",nameInputId:"account_pop_mLogin",passWordInputId:"actpwd_pop_mLogin",remebInputId:"rem_it_1w_pop_mLogin",loginBtnId:"sign_in_btn_pop_mLogin",waitLoginId:"logining_pop_mLogin",tipsId:"titleTips_pop_mLogin",onSuccessLogin:function(r){p._loginSuc(r)}});if(this.freeSignupElem){fish.dom("a.downOpenLogin",this.freeSignupElem).onclick=function(r){fish.preventDefault(r);p.open(true)}}if(!g.login){fish.all("#mLogin_login .forget_password").on("click",function(){});g.login=true}this.__timeoutTextElem=fish.one(".sending_btn .btn_a_inner",this.passElem);this.__teleTextElem=fish.one(".tips_line",this.passElem);this.__passTipsElem=fish.one(".btn_tips",this.passElem);this.__usernameElem=fish.one("#account_pop_mLogin");this.__titleElem=fish.one("div.mLogin_bg",this.loginElem);this.telephoneTips&&this.__teleTextElem.html(this.telephoneTips);this.__timeoutBtnElem=fish.one(".sending_btn",this.passElem);if(!g.passSending){this.__timeoutBtnElem.on("click",function(){p.__timeoutBtnElem.hasClass("btn_disable")||p.getPass()});g.passSending=true}this.__verifyPassBtnElem=fish.one(".submit_btn",this.passElem);if(!g.passSubmit){this.__verifyPassBtnElem.on("click",function(){p.verifyPass()});g.passSubmit=true}this.__resetPassBtnElem=fish.one(".pass_btn",this.resetPassElem);if(!g.resetPass){this.__resetPassBtnElem.on("click",function(){p.resetPass()});g.resetPass=true}this.__resetPassTipsElem=fish.one(".btn_tips",this.resetPassElem);this.__passInputElem=fish.all(".valida_code",this.passElem);if(!g.passValida){this.__passInputElem.on("click",function(){}).on("focus",function(){p._hidePassErr()}).on("keypress",function(r){if((window.ActiveXObject?event.keyCode:r.which)==13){fish.preventDefault(r);p.verifyPass()}});g.passValida=true}this.__newPassInputElem=fish.all("#mLogin_resetpassword");if(!g.restPassWord){this.__newPassInputElem.on("click",function(){}).on("focus",function(){p._hideNewPassErr()}).on("onkeypress",function(r){if((window.ActiveXObject?event.keyCode:r.which)==13){fish.preventDefault(r);p.resetPass()}});g.restPassWord=true}this.__repeatPassInputElem=fish.all("#mLogin_repeatpassword");if(!g.repeatNewPassword){this.__repeatPassInputElem.on("click",function(){}).on("focus",function(){p._hideRepeatPassErr()}).on("keypress",function(r){if((window.ActiveXObject?event.keyCode:r.which)==13){fish.preventDefault(r);p.resetPass()}});g.repeatNewPassword=true}this.show&&this.open(true);if(this.showSignupFirst){var q=fish.one("#freeSignup .port_signUp");q.attr("src",q.attr("_src"));this.openFreeSignup();this.showSignupFirst=false}},resetBookingBoxState:function(){if(this.showBooking){var o=this;fish.all(o.loginElem).css("width:560px");fish.all(".l_border",this.loginElem).css("display:block");fish.dom(".yd_bton",this.loginElem).onclick=function(){o.onBooking();fish.mPop.close();o.onClose()}}else{if(this.showSearch){o=this;fish.all(o.loginElem).css("width:560px");fish.all(".l_search",this.loginElem).css("display:block");fish.dom("#search_btn",this.loginElem).onclick=function(){o.onSearch();fish.mPop.close();o.onClose()}}else{fish.all(this.loginElem).css("width:318px");fish.all(".l_border",this.loginElem).css("display:none")}}},open:function(o){this.onOpen&&this.onOpen();this.resetBookingBoxState&&this.resetBookingBoxState();l(this.loginObj.tips);var p=this;o||this.init();if(this.showSignupFirst){o=fish.one("#freeSignup .port_signUp");o.attr("src",o.attr("_src"));fish.mPop({content:this.freeSignupElem,beforeOpen:function(){p.showing=true},afterClose:function(){p.showing=false}})}else{fish.mPop({content:this.loginElem,bgclose:false,beforeOpen:function(){p.showing=true},afterClose:function(){p.showing=false}});p.__signupElem[0].onclick=function(){return function(q){fish.preventDefault(q);fish.mPop.close();l("#freeTips");q=fish.one("#freeSignup .port_signUp");q.attr("src",q.attr("_src"));fish.mPop({content:fish.one("#freeSignup"),beforeOpen:function(){p.showing=true},afterClose:function(){p.showing=false}})}}(p)}},openFreeSignup:function(){l("#freeTips");var o=this;fish.mPop({content:this.freeSignupElem,beforeOpen:function(){o.showing=true},afterClose:function(){o.showing=false}})},showPassBox:function(){this.onPassBoxOpen&&this.onPassBoxOpen();fish.one(".phonenum",this.passElem).html(this.getUsername());var o=this;fish.mPop({content:this.passElem,beforeOpen:function(){o.showing=true},afterClose:function(){o.showing=false}})},showResetBox:function(){this.onResetBoxOpen&&this.onResetBoxOpen();var o=this;fish.mPop({content:this.resetPassElem,beforeOpen:function(){o.showing=true},afterClose:function(){o.showing=false}})},startTimeout:function(){var o=this,p=this.getPassTimeout;if(this.getPassTimer){clearInterval(this.getPassTimer);this.getPassTimer=null}this._disableTimeoutBtn();this.getPassTimer=setInterval(function(){o._setTimeoutText(p+"秒后可重发");p--;p||o.stopTimeout()},1000)},stopTimeout:function(){clearInterval(this.getPassTimer);this.getPassTimer=null;this._setTimeoutText("获取验证码");this._enableTimeoutBtn()},setUsername:function(o){this.__usernameElem.val(o)},setTitle:function(o){this.__titleElem.html(o)},getPass:function(){var o=this;if(!this.getPassTimer){fish.ajax({url:this.getPassUrl,type:"jsonp",data:"moblie="+this.getUsername(),fn:function(p){o._getPassCallBack(p)}});this._disableTimeoutBtn();this.startTimeout()}},verifyPass:function(){var o=this,p=this.__passInputElem.val();this._hideVerifyPassTips();if(f.passnum.test(p)){this._hidePassErr();this._showPassLoading();fish.ajax({url:this.verifyPassUrl,data:"moblie="+encodeURIComponent(this.getUsername())+"&code="+this.getPassNum(),type:"jsonp",fn:function(q){o._hidePassLoading();o._verifyPassCallBack(q)}})}else{this._showPassErr("验证码错误，请重输")}},resetPass:function(){var o=this,p=this.__newPassInputElem.val(),q=this.__repeatPassInputElem.val();this._hideResetPassTips();if(f.password.test(p)){if(p!==q){this._showRepeatPassErr("两次输入的密码不一致")}else{this._showResetPassLoading();fish.ajax({url:this.resetPassUrl,data:"newpwd="+encodeURIComponent(this.getNewPass()),type:"jsonp",fn:function(r){o._hideResetPassLoading();o._resetPassCallBack(r)}})}}else{this._showNewPassErr("密码输入有误，请重新输入")}},getUsername:function(){return fish.trim(fish.one("#account_pop_mLogin").val())},getPassNum:function(){return fish.trim(fish.one("#valida_input").val())},getNewPass:function(){return fish.trim(fish.one("#mLogin_resetpassword").val())},_verifyPassCallBack:function(o){o=o.state;this.onGetPassAjaxBack&&this.onGetPassAjaxBack(o);if(o&&o==1){this._verifyPassSuc()}else{if(o){o=="047"?this._showVerifyPassTips("对不起，您的验证码已累计输错10次，请重新点击发送手机验证码。"):this._verifyPassErrBack()}else{this._verifyPassErrBack()}}},_verifyPassErrBack:function(){this._showVerifyPassTips("对不起，验证失败，请重试。");this.stopTimeout();this._enableTimeoutBtn()},_getPassCallBack:function(o){if(o==undefined){throw"server error"}o=o.state;this.onGetPassAjaxBack&&this.onGetPassAjaxBack(o);if(o&&o==1){this._getPassSuc()}else{if(o){if(o=="007"){this._showVerifyPassTips("对不起，您输入的手机号格式有误，请重新输入。")}else{if(o=="049"||o=="3"){this._showVerifyPassTips("对不起，您本月申请修改密码次数已达上限，如您仍需修改密码，请致电4007-777-777。")}else{if(o=="010"||o=="003"){this._showVerifyPassTips("对不起，您的手机号还未注册，立即<a target='_blank' href='http://www.17u.cn/reg.aspx'>注册</a>")}else{if(o=="050"){this._showVerifyPassTips("对不起，您今天申请修改密码次数已达上限，如您仍需修改密码，请致电4007-777-777。")}else{if(o=="4"){this._showVerifyPassTips("您已经超过每日获取短信上限，请次日再试。")}else{if(o=="5"){this._showVerifyPassTips("手机号码与账号手机号码不同。")}else{o=="6"?this._showVerifyPassTips("60s内只能获取一次短信，请稍后再试。"):this._getPassErrBack()}}}}}}}else{this._getPassErrBack()}}},_getPassErrBack:function(){this._showVerifyPassTips("获取验证码失败，请重试！");this.stopTimeout()},_resetPassCallBack:function(o){o=o.state;this.onResetPassAjaxBack&&this.onResetPassAjaxBack(o);if(o&&o==1){this._resetPassSuc()}else{if(o){o=="3"?this._showResetPassTips("对不起，您本月申请修改密码次数已达上限，如您仍需修改密码，请致电4007-777-777。"):this._resetPassErrBack()}}},_resetPassErrBack:function(){this._showResetPassTips("设置失败，请重试！")},_showVerifyPassTips:function(o){this.__passTipsElem.css("display:block").html(o)},_hideVerifyPassTips:function(){this.__passTipsElem.css("display:none")},_showResetPassTips:function(o){this.__resetPassTipsElem.css("display:block").html(o)},_hideResetPassTips:function(){this.__resetPassTipsElem.css("display:none")},_showPassErr:function(o){fish.all(".valida_tips",this.passElem).css("display:none");fish.all(".valida_err",this.passElem).css("display:inline").html(o)},_hidePassErr:function(){fish.all(".valida_tips",this.passElem).css("display:inline");fish.all(".valida_err",this.passElem).css("display:none")},_showNewPassErr:function(o){fish.all(".tips",this.resetPassElem).css("display:none");fish.all(".password_new_err",this.resetPassElem).css("display:inline").html(o)},_hideNewPassErr:function(){fish.all(".tips",this.resetPassElem).css("display:block");fish.all(".password_new_err",this.resetPassElem).css("display:none")},_showRepeatPassErr:function(o){fish.all(".password_repeat_err",this.resetPassElem).css("display:inline").html(o)},_hideRepeatPassErr:function(){fish.all(".password_repeat_err",this.resetPassElem).css("display:none")},_showPassLoading:function(){fish.browser("ms",6)?fish.all(".wait4sign_a",this.passElem).css("display:inline"):fish.all(".wait4sign_a",this.passElem).css("display:block");fish.all(".btn_b_outer",this.passElem).css("display:none")},_hidePassLoading:function(){fish.all(".wait4sign_a",this.passElem).css("display:none");fish.browser("ms",6)?fish.all(".btn_b_outer",this.passElem).css("display:inline"):fish.all(".btn_b_outer",this.passElem).css("display:block")},_showResetPassLoading:function(){fish.all(".wait4sign_a",this.resetPassElem).css("display:block");fish.all(".btn_b_outer",this.resetPassElem).css("display:none")},_hideResetPassLoading:function(){fish.all(".wait4sign_a",this.resetPassElem).css("display:none");fish.all(".btn_b_outer",this.resetPassElem).css("display:block")},_loginSuc:function(){this.reload&&location.reload();this.onLogin();fish.mPop.close();this.onClose()},_getPassSuc:function(){this.startTimeout()},_getPassErr:function(){},_verifyPassSuc:function(){this.showResetBox()},_verifyPassErr:function(){},_resetPassSuc:function(){fish.one("#actpwd_pop_mLogin").val(this.getNewPass());this.loginObj.login()},_setTimeoutText:function(o){this.__timeoutTextElem.html(o)},_enableTimeoutBtn:function(){this.__timeoutBtnElem.removeClass("btn_disable")},_disableTimeoutBtn:function(){this.__timeoutBtnElem.addClass("btn_disable")}};fish.extend({mLogin:m})})();(function(){fish.extend({autoComplete:function(i){function aK(){if(!aM){var e=document.createElement("iframe");e.id="mNotice-backdrop";fish.one(af).html("top",e);fish.one(e).css("position:absolute;border:none;filter:alpha(opacity=0);opacity:0;z-index:-1");aM=e}var e=fish.one(af).width(),f=fish.one(af).height();fish.all(aM).css("width:"+e+"px;height:"+f+"px")}function ax(b){ag&&clearTimeout(ag);ag=setTimeout(function(){if(ai.ajaxObj){try{ai.ajaxObj.abort()}catch(e){}}ai.ajaxObj=fish.ajax({url:b,type:aO,fn:function(f){ab(f);f=ae(f);ai.origin=ac.val();f&&f.length?(ac.setTitle(aj),am(f)):(aT&&am(),f=ac.val(),f.length>aV&&(f=f.substring(0,aV)+"..."),!1==i.title&&aa.css("display:block;"),f="\u5bf9\u4e0d\u8d77\uff0c\u627e\u4e0d\u5230\uff1a"+ao(f),ac.setTitle(f));aK()}});ag=null},200)}function am(e,l,m){e&&aq&&aq.call(ac,e);aJ=e;for(var p=[],u=[],s=0,r=e.length;s<r;s++){var t=u.length;u[t]=e[s];if(t==ay-1||s==e.length-1){p[p.length]=u,u=[]}}aP=p;at=l;if(aw){av.css("display:block");aQ.html("");e=aP.length>aX?aX:aP.length;for(p=0;p<e;p++){u=document.createElement("a"),u.className="autofill_pLink",u.href="javascript:void(0);",u.onFocus="this.blur()",u.innerHTML=p+1,aQ[0].appendChild(u)}}else{av.css("display:none")}az(aP,l,m)}function az(e,f,g){g=g?g:0;if(aw&&aX){e.splice(aX,e.length);var h=fish.all(".autofill_pLink",av);fish.all("a",av).css("display:inline-Block");h.removeClass("at");1==e.length?av.css("display:none"):0==g?fish.one(".the_first",av).css("display:none"):g==e.length-1&&fish.one(".the_last",av).css("display:none");h[g].className="autofill_pLink at";aE=fish.one(h[g]).html();aE--}ah(al);if(e[g]&&e[g].length){for(n=0;n<e[g].length;n++){e[g][n]&&(row=al.insertRow(-1),cell=row.insertCell(-1),h=aS.call(row,e[g][n],n),row.className=aH,h&&(row.className+=" "+c),h=aB.call(row,e[g][n],n),!1===h?al.deleteRow(-1):aU.call(row,e[g][n],n)?cell.innerHTML=ao(h,f):cell.innerHTML=h)}if(-1!==al.index){for(e=fish.all("."+aH,al);e[al.index]&&!fish.one(e[al.index]).hasClass(c);){al.index++}e[al.index]?fish.one(e[al.index]).addClass(aL):al.index=-1}}}function ak(l){var s=[],t,u,z,v,x,w,y,A,B,C;A=j.length;for(y=0;y<A;y++){t=j[y];u=t.match;C=u.length;v=-1;for(B=0;B<C;B++){if(z=u[B],aW&&(z=z.toLowerCase()),-1<(x=z.indexOf(l))&&(-1===v||x<v)){v=x,w=z}}-1<v&&(aD&&aD(t,w,v),s[s.length]=t)}!s.length&&aT?(l=l.substr(0,l.length-1),""!==l&&(s=ak(l)),s.matchFalid=!0):(s.matchLength=l.length,!s.length&&!aT&&av.css("display:none"));return s}function aY(b){var f;aW&&(b=b.toLowerCase());f=""===b?aR:ak(b);var e=ai.origin=b;b.length>aV&&(e=b.substring(0,aV)+"...");f.length?(aF&&f.sort(aF),f.matchFalid?(!1==i.title&&aa.css("display:block;"),e="\u5bf9\u4e0d\u8d77\uff0c\u627e\u4e0d\u5230\uff1a"+ao(e),ac.setTitle(e)):ac.setTitle(a?b+"\uff0c"+aj:aj),am(f,b.substr(0,f.matchLength),0)):(!1==i.title&&aa.css("display:block;"),b="\u5bf9\u4e0d\u8d77\uff0c\u627e\u4e0d\u5230\uff1a"+ao(e),ac.setTitle(b),aT||ah(al));aK()}function ao(e,f){if(aA&&""!==f){var g=f?f:ac.val();"\\"===g&&(g="\\\\");var h=RegExp(g,"g"+(aW?"i":""));return e.replace(/(>|^)([^>^<]+)(<|$)/g,function(b){return b.replace(h,function(l){return'<span class="'+an+'">'+l+"</span>"})})}return e}function ap(l,r,s){if(l&&1===l[0].nodeType&&r&&1===r[0].nodeType){var t=fish.one(window).width();fish.one(window).height();var u=r.width(),w=r.height(),v=l.width();l.height();r=r.offset();fish.one(document).scrollTop();var x=fish.one(document).scrollLeft(),z;if(z=s){var y;l:{for(y in s){y=!1;break l}y=!0}z=!y}z?(s.x="number"===typeof s.x?s.x:0,s.y="number"===typeof s.y?s.y:0):s={x:0,y:0};r.left-x>t-(r.left-x)&&t-(r.left-x)<v?l.css("left:"+(r.left+u-v-s.x)+"px"):l.css("left:"+(r.left+s.x)+"px");l.css("top:"+(r.top+w+s.y)+"px")}else{throw Error("\u9700\u8981\u6307\u5b9a\u8f93\u5165\u57df\u548c/\u6216\u53ca\u5176\u5f39\u6846\uff01")}}function ah(e){e.index=aC;for(var f=fish.all("."+aH,e).length;0<f--;){e.deleteRow(-1)}}var ai,ar=fish.guid(),af,d,j=[],aR=[],aJ={},aG={x:0,y:0},aj="\u8f93\u5165\u4e2d\u6587/\u62fc\u97f3/\u2191\u2193\u952e\u9009\u62e9",ac={},aD=null,aF=null,aI,aA=!0,ay=10,aC=0,aT=!1,ad="",aO="get",aW=!0,aq,ae=function(){},aB=function(){},aN=function(){},aS=function(){return !0},ab=function(){},aU=function(){return !0},o=!1,al,aM,aH="autofill_item",c="enableListRow",aL="autofill_hover",an="autofill_hili",k="autofill_empty",q=!1,aw=!1,aX=0,aP=[],at="",av,aQ,a=!1,aV=10,aE=0,au=!0,aa;ai=this;if(!ai[0]){throw Error("autoComplete init faild, fish obj was null when exec fish.all('...').autoComplete()")}fish.one("body").html("top",'<div id="autoComplete-'+ar+'" class="autofill_wrap"><div class="show_title"><span class="autofill_hd_inner"></span><span class="autofill_close show_title"></span></div><table class="autofill_tray" cellpadding="0" cellspacing="0"></table><div class="autofill_page"><a class="the_first" href="javascript:void(0);">&lt;-</a><span class="autofill_pList"></span><a class="the_last" href="javascript:void(0);">-&gt;</a></div></div>');af=fish.one("#autoComplete-"+ar);getComputedStyle=document.defaultView&&document.defaultView.getComputedStyle;"14px"===(ai[0].style.fontSize||(ai[0].currentStyle?ai[0].currentStyle.fontSize:getComputedStyle(ai[0],null).fontSize))&&af.addClass("autofill_wrap_large");d=fish.one(".autofill_hd_inner",af[0]);aa=fish.all(".show_title",af[0]);al=fish.dom(".autofill_tray",af[0]);av=fish.one(".autofill_page",af[0]);aQ=fish.one(".autofill_pList",av);aG.x=void 0!==i.offsetX?i.offsetX:0;aG.y=void 0!==i.offsetY?i.offsetY:0;"function"===typeof i.processAjaxDataFn&&(ae=i.processAjaxDataFn);"function"===typeof i.itemPrintFn&&(aB=i.itemPrintFn);"string"===typeof i.template&&fish.trim(i.template);"string"===typeof i.title&&fish.trim(i.title).length&&(aj=i.title,d.html(i.title));"string"===typeof i.theme&&fish.trim(i.theme).length&&af.addClass(i.theme);"string"===typeof i.itemClass&&fish.trim(i.itemClass).length&&(aH=i.itemClass);"string"===typeof i.highlightClass&&fish.trim(i.highlightClass).length&&(an=i.highlightClass);"string"===typeof i.emptyClass&&fish.trim(i.emptyClass).length&&(k=i.emptyClass);"function"===typeof i.ajaxFn&&(ab=i.ajaxFn);aI=i.width?i.width:aI;aq=i.processPrintDataFn?i.processPrintDataFn:aq;aD=i.preSortFn?i.preSortFn:aD;ay=i.max?i.max:ay;aF=i.sortFn?i.sortFn:aF;aT=i.keepListOnNoResult?i.keepListOnNoResult:aT;ad=i.requestUrl?i.requestUrl:ad;aO=i.requestType?i.requestType:aO;aB=i.itemPrintFn?i.itemPrintFn:aB;aS=i.itemEnableFn?i.itemEnableFn:aS;aN=i.itemValueFn?i.itemValueFn:aN;j=i.localData?i.localData:j;aR=i.defaultData?i.defaultData:aR;aU=i.itemHighlightFn?i.itemHighlightFn:aU;q=void 0!=i.fillWhenHover?i.fillWhenHover:q;aX=i.maxPageNum?i.maxPageNum:aX;aw=i.pageShow?i.pageShow:aw;a=i.showUserInput?i.showUserInput:a;aI&&fish.all(al).css("width:"+aI+"px");aV=i.maxOverFlowNum?i.maxOverFlowNum:aV;ap(af,ai,aG);af.css("display:none");af.effect({elem:ai,interShow:!1});var ag;av.on("click",function(e){e=fish.getTarget(e);do{var f=e.className;if(-1<f.indexOf("at")){break}else{if(-1<f.indexOf("autofill_pLink")){az(aP,at,parseInt(e.innerHTML,10)-1)}else{if(-1<f.indexOf("the_first")){az(aP,at,parseInt(fish.dom(".at",av).innerHTML,10)-2)}else{if(-1<f.indexOf("the_last")){az(aP,at,parseInt(fish.dom(".at",av).innerHTML,10))}else{break}}}}}while(e=e.parentNode)});ai.on("keyup",function(b){!1==i.title&&aa.css("display:none");fish.getTarget(b);var m;b=fish.getEvent(b);m=b.which?b.which:b.keyCode;b=al;var e,f=af.getCss("display");e=ac.val();""===e||e===i.placeholder?(ac.show(),0!==aR.length?aY(e):ac.hide()):ac.show();if(13===m&&"none"!==f){m=fish.all("."+aH,b),i.submit&&i.submit(ac),aJ[b.index]&&(ai.val(aN.call(m[b.index],aJ[b.index+ay*aE],b.index+ay*aE)),i.selectItemFn&&"function"==typeof i.selectItemFn&&i.selectItemFn(ai,m[b.index])),ac.hide()}else{if(40===m||38===m){e=ai;var f=fish.all("."+aH,b),g=f.length-1,h=0;if(f.length){switch(f.removeClass(aL),m){case 40:do{b.index++}while(f[b.index]&&!fish.one(f[b.index]).hasClass(c));b.index>g?(b.index=-1,e.val(e.origin)):(fish.one(f[b.index]).addClass(aL),h=b.index+ay*aE,e.val(aN.call(f[b.index],aJ[h],h)));break;case 38:do{b.index--}while(f[b.index]&&!fish.one(f[b.index]).hasClass(c));h=b.index+ay*aE;-1===b.index?e.val(e.origin):-1>b.index?(b.index=g,e.val(aN.call(f[b.index],aJ[b.index],b.index)),fish.one(f[b.index]).addClass(aL)):(fish.one(f[b.index]).addClass(aL),e.val(aN.call(f[b.index],aJ[h],h)))}}}else{13===m&&"none"===f?ac.hide():(b=ad&&ad.call(ac,e))?ax(b):aY(e)}}});ai.on("click",function(){0!==aR.length&&ac.show()});af.on("mouseover",function(f){var g=fish.getTarget(f),h,l,m=al;for(l=fish.all("."+aH,m);null!==g;){h=fish.one(g);if(h.hasClass(aH)){l.removeClass(aL);l.each(function(b,e){if(b===g&&fish.one(g).hasClass(c)){return h.addClass(aL),m.index=e,q&&ai.val(aN.call(l[m.index],aJ[m.index+ay*aE],m.index+ay*aE)),!1}});break}g=g.parentNode}});af.on("click",function(b){var h=fish.getTarget(b),e,g,l=al;for(g=fish.all("."+aH,l);null!==h;){e=fish.one(h);if(e.hasClass(aH)){g.each(function(f,m){if(f===h&&fish.one(h).hasClass(c)){return e.addClass(aL),l.index=m,ai.val(aN.call(g[l.index],aJ[l.index+ay*aE],l.index+ay*aE)),i.selectItemFn&&"function"==typeof i.selectItemFn&&i.selectItemFn(ai,g[l.index]),!1}});ac.hide();break}h=h.parentNode}});fish.one(".autofill_close",af).on("click",function(){ac.hide()});ai.on("mousedown",function(){o=!0});ai.on("mouseup",function(){o=!1});af.on("mousedown",function(){o=!0});af.on("mouseup",function(){o=!1});ai.on("focus",function(b){b=fish.getTarget(b);fish.trim(b.value)===i.placeholder&&(b.value="",fish.one(b).removeClass(k))});ai.on("blur",function(b){b=fish.getTarget(b);if(!fish.trim(b.value)||fish.trim(b.value)===i.placeholder){b.value=i.placeholder,fish.one(b).addClass(k)}setTimeout(function(){o||(ac.hide(),o=!1)},0)});fish.one(window).on("resize",function(){ac.resetPosition()});ac.macth=function(){aY(ac.val())};ac.hide=function(){af.css("display:none")};ac.show=function(){"none"===af.getCss("display")&&(af.css("display:block;"),ac.resetPosition(),aK());!0===au&&0!==aR.length&&(am(aR,"",0),au=!1)};ac.setTitle=function(b){d.html(b)};ac.val=function(b){if(void 0!==b){ai.val(b)}else{return fish.trim(ai.val(b))}};ac.resetPosition=function(){ap(af,ai,aG)};ac.requestUrl=function(b){"function"===typeof b&&(ad=b)};ac.localData=j;ac.resetlocalData=function(b){j=b};return ac}})})();(function(){function q(m){var r=document.createElement("div"),u=[];fish.all(r).html(m);for(m=0;m<r.childNodes.length;m++){1===r.childNodes[m].nodeType&&u.push(r.childNodes[m])}return fish.all(u)}function t(m){m=m||{};var r=function(){},r={css:"",tableThCss:"",userDateCss:"",dateCss:"",itemCss:"",width:0,height:0,open:!1,startTime:fish.parseTime(new Date),endTime:"2099-01-01",inputElem:fish.dom(this),formatInputElemAtStart:!1,showPast:!1,showDay:!1,showMonthOnBtn:!1,showSpecDate:!0,now:"",focus:fish.parseTime(new Date),eachHeight:28,eachWidth:28,monthNum:2,backgroundMonthnumSize:160,enableBtnWhenOutOfRange:!0,ajaxUrl:"",bodyTemp:'<iframe class="if"></iframe><div class="date"><div class="top clearfix"></div><div class="calCanvas"></div></div>',titleTemp:'<div class="floatL monthTitle"><h4 class="lastText  mCalTitleFir" ><span class="date_title">...</span></h4></div>',prevBtnTemp:'<span class="lastMonthBg date_lastSpan"><span class="lastMonth"></span><span class="monthNum"></span></span>',nextBtnTemp:'<span class="nextMonthBg date_nextSpan"><span class="nextMonth"></span><span class="monthNum"></span></span>',cache:{},__ajaxObjs:{},fn:r,jsonpCallback:null,ajaxFn:r,monthChangeStyle:"",_monthTimes:1,mouseover:r,mouseout:r,beforeOpen:r,afterClose:r,beforePrevFn:r,afterPrevFn:r,beforeNextFn:r,afterNextFn:r,processDataFn:r,dateTempleteFn:r,dateClickAbleFn:r,fillBlank:!1,preLoadingUserData:!1,calTitleFn:!1,cachAjax:!0},u=fish.lang.proto(mCalFn);fish.lang.extend(r,m);fish.lang.extend(u,r);return u.init(m)}function k(m){m=fish.parseDate(m,{months:1});m.setDate(0);return m.getDate()}function s(m,r){var u=fish.parseDate(m);u.setDate(1);r=r||"chinese";if("chinese"==r){return o.charAt(u.getDay())}if("number"==r){return u.getDay()}}function c(m,r,v){var u=fish.parseDate(m),w=fish.parseDate(m);r=fish.parseDate(r);v=fish.parseDate(v);u.setDate(1);u.setHours(0);u.setMinutes(0);v.setHours(23);v.setMinutes(59);w.setDate(k(m));w.setHours(23);w.setMinutes(59);m=u.getTime();w=w.getTime();r=r.getTime();v=v.getTime();r=[m,w,r,v].sort(function(x,y){return x-y});return r[1]===v||r[1]===w?{start:0,end:0}:{start:(new Date(r[1])).getDate(),end:(new Date(r[2])).getDate()}}function d(m,r){function v(z,A){A=1===A?1:0;var B=r.focus.split("-");B[A]=z;r.focus=B.join("-");r.set2()}function u(z,A,B){B=B||fish.all(".year_selector_panel td",r.__monthHolderElem);z=1===A?z:parseInt(z)-Math.floor(B.length/2);A=0;for(var C=B.length;A<C;A++){B[A].innerHTML=z+A}}function w(z){var A=fish.dom(".year_selector_panel",r.__monthHolderElem);A||(A=document.createElement("div"),A.className="year_selector_panel",A.innerHTML="<div><span>\u2190</span><span>\u2192</span><em>\u00d7</em></div><table><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td></tr></table>",r.__monthHolderElem[0].appendChild(A),A.style.left=z.offsetLeft+z.parentNode.offsetLeft-30+"px",fish.all("td",A).hover(function(C){fish.one(this).addClass("year_hover")},function(C){fish.one(this).removeClass("year_hover")}),fish.all("span, em",A).hover(function(C){C=fish.one(this);C.hasClass("nav_disabled")||C.addClass("nav_hover")},function(C){fish.one(this).removeClass("nav_hover")}),fish.one(A).on("click",function(C){var D=fish.all("span, em",this);C=fish.getTarget(C);C===D[0]?fish.one(C).hasClass("nav_disabled")||(D=fish.all("td",this),u(parseInt(D[0].innerHTML)-D.length,1,D)):C===D[1]?fish.one(C).hasClass("nav_disabled")||(D=fish.all("td",this),u(parseInt(D[D.length-1].innerHTML)+1,1,D)):C===D[2]?l(z,this):"td"===C.tagName.toLowerCase()&&(l(z,this),z.value!==C.innerHTML&&(z.value=C.innerHTML,v(z.value)))}));var B=fish.all("td",A);u(z.value,0,B);A.style.visibility="visible"}function y(z){var A=fish.dom(".month_selector_panel",r.__monthHolderElem);A||(A=document.createElement("div"),A.className="month_selector_panel",A.innerHTML="<table><tr><td>1\u6708</td><td>2\u6708</td><td>3\u6708</td></tr><tr><td>4\u6708</td><td>5\u6708</td><td>6\u6708</td></tr><tr><td>7\u6708</td><td>8\u6708</td><td>9\u6708</td></tr><tr><td>10\u6708</td><td>11\u6708</td><td>12\u6708</td></tr></table>",r.__monthHolderElem[0].appendChild(A),A.style.left=z.offsetLeft+z.parentNode.offsetLeft-35+"px",fish.all("td",A).hover(function(B){fish.one(this).addClass("month_hover")},function(B){fish.one(this).removeClass("month_hover")}),fish.one(A).on("click",function(B){B=fish.getTarget(B);"td"===B.tagName.toLowerCase()&&(p(z,this),B=parseInt(B.innerHTML)+"",z.value!==B&&(z.value=B,v(z.value,1)))}));A.style.visibility="visible"}fish.one(m[0]).on("focus",function(z){fish.one(this).addClass("year_input_focus");this.select();w(this)}).on("change",function(z){v(this.value);u(this.value)});var x=fish.all("i",m[0].parentNode);fish.one(x[0]).on("click",function(z){m[0].focus()});fish.one(m[1]).on("focus",function(z){fish.one(this).addClass("month_input_focus");this.select();y(this)}).on("change",function(z){v(this.value,1)});fish.one(x[1]).on("click",function(z){m[1].focus()});r.__monthHolderElem.on("click",function(z){var A=fish.getTarget(z),B=fish.all(".year_selector_panel, .month_selector_panel",this);z=B[0];B=B[1];if(A===m[0]||A===x[0]){p(m[1],B)}else{if(A===m[1]||A===x[1]){l(m[0],z)}else{for(;A!==this&&A!==z&&A!==B&&A!==x[0]&&A!==x[1];){A=A.parentNode}A===this&&(l(m[0],z),p(m[1],B))}}})}function l(m,r){r&&(r.style.visibility="hidden");fish.one(m).removeClass("year_input_focus")}function p(m,r){r&&(r.style.visibility="hidden");fish.one(m).removeClass("month_input_focus")}function e(m){m=m||{};var r=function(){},r={width:0,cal:"",now:"",today:"",tomorrow:"",tableThCss:"",month:fish.parseTime(new Date),eachHeight:28,eachWidth:28,__elem:null,dataUrl:"",fn:r,ajaxFn:r,showPast:!1,mouseover:r,mouseout:r,type:"json",calTemp:function(){var v=[],w;v.push('<div class="contentTime clearfix"><table cellspacing="0" cellpadding="0" border="0" ><tbody><tr>');o.split("").forEach(function(z){v.push("<th "+("\u516d"===z?"class='sat'":"\u65e5"===z?"class='sun'":"")+" >"+z+"</th>")});v.push("</tr>");for(var x=0;6>x;x++){v.push('<tr calweek="'+(x+1)+'">');for(var y=0;7>y;y++){w=o.charAt(y),v.push('<td><div calday="'+w+'" class="itemWrap '+("\u516d"===w?"sat":"\u65e5"===w?"sun":"")+'"><span class="dateWrap">&nbsp;</span><div class="userWrap"></div></div></td>')}v.push("</tr>")}v.push('</tbody></table><i class="monthBg"></i></div>');return v.join("")}(),reloadData:!1,startDate:1,endDate:31,firstDay:"",processDataFn:r,dateTempleteFn:r,startTime:"1970-01-01",endTime:"2099-01-01"},u=fish.lang.proto(mMonthFn);fish.lang.extend(r,m);fish.lang.extend(u,r);u.init();return u}function f(m){m=parseInt(m);10>m&&(m="0"+m);return m+""}var a={"2016-01-01":{name:"\u5143\u65e6"},"2016-02-07":{name:"\u9664\u5915"},"2016-02-08":{name:"\u6625\u8282"},"2016-02-22":{name:"\u5143\u5bb5"},"2016-04-04":{name:"\u6e05\u660e"},"2016-05-01":{name:"5.1"},"2016-06-01":{name:"6.1"},"2016-06-09":{name:"\u7aef\u5348"},"2016-08-09":{name:"\u4e03\u5915"},"2016-09-15":{name:"\u4e2d\u79cb"},"2016-10-01":{name:"\u56fd\u5e86"},"2016-12-25":{name:"\u5723\u8bde"},"2015-01-01":{name:"\u5143\u65e6"},"2015-02-18":{name:"\u9664\u5915"},"2015-02-19":{name:"\u6625\u8282"},"2015-03-05":{name:"\u5143\u5bb5"},"2015-04-05":{name:"\u6e05\u660e"},"2015-05-01":{name:"5.1"},"2015-06-01":{name:"6.1"},"2015-06-20":{name:"\u7aef\u5348"},"2015-08-20":{name:"\u4e03\u5915"},"2015-09-27":{name:"\u4e2d\u79cb"},"2015-10-01":{name:"\u56fd\u5e86"},"2015-12-25":{name:"\u5723\u8bde"},"2014-01-01":{name:"\u5143\u65e6"},"2014-01-30":{name:"\u9664\u5915"},"2014-01-31":{name:"\u6625\u8282"},"2014-02-14":{name:"\u5143\u5bb5"},"2014-04-05":{name:"\u6e05\u660e"},"2014-05-01":{name:"5.1"},"2014-06-01":{name:"6.1"},"2014-06-02":{name:"\u7aef\u5348"},"2014-08-02":{name:"\u4e03\u5915"},"2014-09-08":{name:"\u4e2d\u79cb"},"2014-10-01":{name:"\u56fd\u5e86"},"2014-12-25":{name:"\u5723\u8bde"},"2013-01-01":{name:"\u5143\u65e6"},"2013-02-09":{name:"\u9664\u5915"},"2013-02-10":{name:"\u6625\u8282"},"2013-02-24":{name:"\u5143\u5bb5"},"2013-04-04":{name:"\u6e05\u660e"},"2013-05-01":{name:"5.1"},"2013-06-01":{name:"6.1"},"2013-06-12":{name:"\u7aef\u5348"},"2013-08-13":{name:"\u4e03\u5915"},"2013-09-19":{name:"\u4e2d\u79cb"},"2013-10-01":{name:"\u56fd\u5e86"},"2013-12-25":{name:"\u5723\u8bde"},"2012-04-04":{name:"\u6e05\u660e"},"2012-05-01":{name:"5.1"},"2012-06-01":{name:"6.1"},"2012-06-23":{name:"\u7aef\u5348"},"2012-08-23":{name:"\u4e03\u5915"},"2012-09-30":{name:"\u4e2d\u79cb"},"2012-10-01":{name:"\u56fd\u5e86"},"2012-12-25":{name:"\u5723\u8bde"}},j={},g=fish.browser("ms",6),h=fish.browser("ms",7),o="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d";fish.one(window).on("resize",function(){for(var m in j){if(j.hasOwnProperty(m)){var r=j[m],v,u;r.__calElem&&(v=fish.one(r.__calElem),g||h?function(w,x){0<x.length&&setTimeout(function(){(u="none"==x.getCss("display")?!1:!0)&&w.show(!1,!0)},0)}(r,v):(u="none"==v.getCss("display")?!1:!0)&&r.show(!1,!0))}}});var i=0;mCalFn={init:function(m){var r=this;if(this.inputElem&&(this.id=fish.all(this.inputElem).attr("data-mcalid"))&&j[this.id]){return j[this.id].set(m),this.open&&j[this.id].show(),j[this.id]}m=fish.browser();m="ms"===m.name&&9>m.version?"static":"scroll";this.monthChangeStyle=this.monthChangeStyle?this.monthChangeStyle:m;this._monthTimes="scroll"===this.monthChangeStyle?3:1;this.id=++i;this.__inputElem=fish.all(this.inputElem);this.__inputElem.attr("data-mcalid",this.id);this.__calElem=q("<div id='mCalendar"+this.id+"' class='mCalendar' style='position:absolute;display:block;top:0px;left:-1000px'></div>");fish.one("body").html("top",this.__calElem);this.__calElem.html("top",this.bodyTemp);this.__topElem=fish.all(".top",this.__calElem);this.__topElem.html("top",this.prevBtnTemp);this.__topElem.html("top",this.nextBtnTemp);this.__canvasElem=fish.one(".calCanvas",this.__calElem);this.month=[];this.__monthHolderElem=fish.one(".date",this.__calElem);for(var v=0;v<this.monthNum;v++){this.__topElem.html("top",this.titleTemp)}this.__monthTitleElem=fish.all(".monthTitle",this.__topElem);if(1===this.monthNum){v=0;for(m=this.__monthTitleElem.length;v<m;v++){fish.dom(".date_title",this.__monthTitleElem[v]).innerHTML='<input class="year_input" /><i class="year_arrow"></i>\u5e74<input class="month_input" /><i class="month_arrow"></i>\u6708';var u=fish.all("input",this.__monthTitleElem[v]);d(u,this)}}this._setNowAndFocus();var w,y;m=this.monthNum*("static"===this.monthChangeStyle?1:3);for(var x="static"===this.monthChangeStyle?0:this.monthNum,v=0;v<m;v++){(function(z){r.month[v]=new e({width:w?w:0,height:y?y:0,cal:r,userDateCss:r.userDateCss,itemCss:r.itemCss,dateCss:r.dateCss,tableThCss:r.tableThCss,now:r.now,today:fish.parseTime(),month:fish.parseTime(r.focus,{months:v-x}),eachHeight:r.eachHeight,eachWidth:r.eachWidth,startTime:r.startTime,endTime:r.endTime,processDataFn:r.processDataFn,dateTempleteFn:r.dateTempleteFn,dateClickAbleFn:r.dateClickAbleFn,showPast:r.showPast,dataUrl:r.ajaxUrl,type:r.type,jsonpCallback:r.jsonpCallback,fn:function(A){r._setFn(A,z)},mouseover:r.mouseover,mouseout:r.mouseout,fillBlank:r.fillBlank,preLoadingUserData:r.preLoadingUserData,__ajaxObjs:r.__ajaxObjs,cachAjax:r.cachAjax});r.month[v].insertTo(r.__canvasElem);w=r.month[v].width;y=r.month[v].height})(v)}this.monthGroup={a:[],b:[],c:[],prev:"a",focus:"b",next:"c"};if("static"===this.monthChangeStyle){for(v=0;v<this.month.length;v++){this.monthGroup.b.push(this.month[v])}}else{if("scroll"===this.monthChangeStyle){for(v=0;v<this.month.length;v++){v<this.monthNum?this.monthGroup.a.push(this.month[v]):v<2*this.monthNum?this.monthGroup.b.push(this.month[v]):this.monthGroup.c.push(this.month[v])}}}this.__prevBtn=fish.one(".lastMonthBg",this.__calElem).on("click",function(){r.__prevBtn.hasClass("clickDisable")||(this.beforePrevFn&&this.beforePrevFn.call(r),r.goPrev())});this.__prevBtnTips=fish.one(".monthNum",this.__prevBtn);this.__nextBtn=fish.one(".nextMonthBg",this.__calElem).on("click",function(){r.__nextBtn.hasClass("clickDisable")||(this.beforeNextFn&&this.beforeNextFn.call(r),r.goNext())});this.__nextBtnTips=fish.one(".monthNum",this.__nextBtn);this.set({},!0);this.__monthTitleElem.css("width:"+this.month[0].width+"px");fish.all(this.elem).on("click",function(){r.show()});this.__inputElem.on("focus",function(){r.show()});this.__inputElem.on("mousedown",function(){r._calElemTouch=!0});this.__inputElem.on("mouseup",function(){r._calElemTouch=!1});this.__inputElem.on("blur",function(){setTimeout(function(){r._calElemTouch||(r.hide(),this._calElemTouch=!1)},0)});m=fish.all([fish.dom(this.__calElem),fish.dom(this.__inputElem)]);this.elem&&(m[m.length]=fish.dom(this.elem),m.length++);switch(this.showType){case"pop":break;case"static":break;default:this.__calElem.effect({type:"click",elem:m,interShow:!1,interFn:function(){fish.dom(r.__inputElem).blur()},outerFn:function(){if(1===r.monthNum){var z=fish.all("input",r.__monthTitleElem[0]),A=fish.all(".year_selector_panel, .month_selector_panel",r.__monthHolderElem);l(z[0],A[0]);p(z[1],A[1])}}})}this.__calElem.on("mousedown",function(){r._calElemTouch=!0});this.__calElem.on("mouseup",function(){r._calElemTouch=!1});r.setWH();r.open?r.show(!1,!0):r.hide();return j[this.id]=this},setWH:function(){var m=this.month[0].width*this.monthNum+4*(this.monthNum-1)-1;this.height=52+6*(this.eachHeight+2+1);this.__canvasElem.css("width:"+m+"px;height:"+this.month[0].height+"px");this.show(!0);this.__monthHolderElem.css("width:"+m+"px;height:"+this.height+"px");this.width=m+4;this.height+=4;fish.one("iframe",this.__calElem).css("width:"+this.width+"px;height:"+this.height+"px");this.__calElem.css("width:"+this.width+"px;height:"+this.height+"px");this.hide()},_setNowAndFocus:function(){var m;(m=fish.one(this.inputElem).val())?this.now=m:this.formatInputElemAtStart&&fish.one(this.inputElem).val(this.now);m=fish.parseDate(this.now);m.setDate(1);this.focus=fish.parseTime(m)},setNow:function(m){this.now=m=fish.parseTime(m);fish.one(this.inputElem).val(m)},set:function(m,r){var v="static"===this.monthChangeStyle?0:this.monthNum;m=m||{};var u=this;fish.lang.extend(this,m);this._setNowAndFocus();this.setMonthTitle();this.setMonthBtn();this.css&&this.__monthHolderElem.css(this.css);if(!r){for(var w=0;w<this.month.length;w++){(function(x){u.month[w].setDate({now:u.now,today:fish.parseTime(),userDateCss:u.userDateCss,itemCss:u.itemCss,dateCss:u.dateCss,tableThCss:u.tableThCss,month:fish.parseTime(u.focus,{months:w-v}),startTime:u.startTime,endTime:u.endTime,showPast:u.showPast,processDataFn:u.processDataFn,dateTempleteFn:u.dateTempleteFn,dateClickAbleFn:u.dateClickAbleFn,dataUrl:u.ajaxUrl,fn:function(y){u._setFn(y,x)},mouseover:u.mouseover,mouseout:u.mouseout})})(w)}}"static"===this.monthChangeStyle?this._setStatic():"scroll"===this.monthChangeStyle&&this._setScroll();this.monthGroup[this.monthGroup.focus].forEach(function(x,y){x.setUserDate()})},set2:function(m,r){var v="static"===this.monthChangeStyle?0:this.monthNum;m=m||{};var u=this;fish.lang.extend(this,m);this.setMonthTitle();this.setMonthBtn();this.css&&this.__monthHolderElem.css(this.css);if(!r){for(var w=0;w<this.month.length;w++){(function(x){u.month[w].setDate({now:u.now,today:fish.parseTime(),userDateCss:u.userDateCss,itemCss:u.itemCss,dateCss:u.dateCss,tableThCss:u.tableThCss,month:fish.parseTime(u.focus,{months:w-v}),startTime:u.startTime,endTime:u.endTime,showPast:u.showPast,processDataFn:u.processDataFn,dateTempleteFn:u.dateTempleteFn,dateClickAbleFn:u.dateClickAbleFn,dataUrl:u.ajaxUrl,fn:function(y){u._setFn(y,x)},mouseover:u.mouseover,mouseout:u.mouseout})})(w)}}"static"===this.monthChangeStyle?this._setStatic():"scroll"===this.monthChangeStyle&&this._setScroll();this.monthGroup[this.monthGroup.focus].forEach(function(x,y){x.setUserDate()})},_setFn:function(m,r){var v=this,u;this.month.forEach(function(w){w.setNow(m)});u=this.month[r].getItemElem(fish.parseDate(m).getDate(),fish.parseDate(m).getMonth()+1);this.setValue(m);setTimeout(function(){v.hide()},0);this.fn&&this.fn.call(this,m,u)},setValue:function(m){this.now=fish.parseTime(m);this.__inputElem.val(this.now)},setMonth:function(m,r,u){this.monthGroup[this.monthGroup[m]].forEach(function(v,w){v.setDate({month:fish.parseTime(r,{months:w})})})},setMonthUserDate:function(m,r){this.monthGroup[this.monthGroup[m]].forEach(function(u,v){u.setUserDate()})},show:function(m,r){var v=0,u=0,w=this;if(m){this.__calElem.css("position:absolute;display:block;top:0px;left:-1000px")}else{var y=fish.one(this.inputElem).offset(),x=fish.one(this.inputElem).height(),z=fish.one(window).width(),A=this.width;switch(w.showType){case"pop":fish.all(w.__calElem).css("position:static;");fish.require("mPop",function(){"block"!==fish.all(w.__calElem).getCss("display")&&fish.all(w.__calElem).css("display:block;");fish.mPop({content:w.__calElem,afterClose:function(){fish.all(w.__calElem).css("display:none;")}})});break;case"static":fish.all(w.__calElem).css("position:relative;display:block;left:0;");fish.one(w.inputElem).css("display:block").html("top",w.__calElem);break;default:z=z-y.left>=A+20?y.left:y.left-20-(A-(z-y.left)),v=y.top+x,u=z}r||this.set();setTimeout(function(){w.__calElem.css("display:block;top:"+v+"px;left:"+u+"px")},0)}},hide:function(){switch(this.showType){case"pop":fish.require("mPop",function(){fish.mPop.close()});break;case"static":break;default:this.__calElem.css("display:none")}this.afterClose&&"function"===typeof this.afterClose&&this.afterClose.call(this)},goPrev:function(){this.focus=fish.parseTime(this.focus,{months:-this.monthNum});if("static"===this.monthChangeStyle){this.setMonth("focus",this.focus),this.setMonthUserDate("focus",this.focus)}else{if("scroll"===this.monthChangeStyle){var m=fish.parseTime(this.focus,{months:-this.monthNum});this._scrollPrev();this.setMonth("prev",m);this.setMonthUserDate("focus",m)}}this.setMonthTitle();this.setMonthBtn();this.afterPrevFn&&this.afterPrevFn.call(this)},goNext:function(){this.focus=fish.parseTime(this.focus,{months:this.monthNum});if("static"===this.monthChangeStyle){this.setMonth("focus",this.focus),this.setMonthUserDate("focus",this.focus)}else{if("scroll"===this.monthChangeStyle){var m=fish.parseTime(this.focus,{months:this.monthNum});this._scrollNext();this.setMonth("next",m);this.setMonthUserDate("focus",m)}}this.setMonthTitle();this.setMonthBtn();this.afterNextFn&&this.afterNextFn.call(this)},_monthStyle:function(){fish.browser();return function(m){return"left:"+m+"px;top:0px"}}(),_scrollTo:function(m,r){var v=0,u=0,w=this,x=this.monthGroup[m];switch(r){case"prev":v=-this.monthNum;"next"===m?u=0:u=1;break;case"next":v=this.monthNum;"prev"===m?u=0:u=1;break;case"focus":u=2}this.monthGroup[x].forEach(function(y,z){y.css(w._monthStyle((z+v)*y.width+6*(z+v)));y.z(u)})},_setScroll:function(){this.monthGroup.prev="a";this.monthGroup.focus="b";this.monthGroup.next="c";this._scrollTo("focus","focus");this._scrollTo("next","next");this._scrollTo("prev","prev")},_scrollPrev:function(){var m=this.monthGroup.focus,r=this.monthGroup.prev,u=this.monthGroup.next;this._scrollTo("focus","next");this._scrollTo("next","prev");this._scrollTo("prev","focus");this.monthGroup.focus=r;this.monthGroup.prev=u;this.monthGroup.next=m},_scrollNext:function(){var m=this.monthGroup.focus,r=this.monthGroup.prev,u=this.monthGroup.next;this._scrollTo("focus","prev");this._scrollTo("next","focus");this._scrollTo("prev","next");this.monthGroup.focus=u;this.monthGroup.prev=m;this.monthGroup.next=r},_setStatic:function(){var m=this;this.monthGroup.focus=this.monthGroup.prev=this.monthGroup.next="b";this.monthGroup.b.forEach(function(r,u){r.css(m._monthStyle(u*r.width+5*u))})},setMonthTitle:function(){var m=this;this.__monthTitleElem.each(function(r,v){var u=fish.parseDate(m.focus,{months:v}),w,y=u.getFullYear(),u=u.getMonth()+1;if(m.calTitleFn&&"function"===typeof m.calTitleFn){w=m.calTitleFn.call(m,y,u)}else{if(1===m.monthNum){var x=fish.all("input",r);x[0].value=y;x[1].value=u}else{w=y+"\u5e74"+u+"\u6708"}}1!==m.monthNum&&fish.one(".date_title",r).html(w)})},setMonthBtn:function(){var m=this.focus,r=fish.parseDate(m,{months:-1}),v=r.getMonth()+1,u=fish.parseDate(this.startTime),w=fish.parseDate(this.endTime),x=fish.parseDate(m,{months:this.monthNum}),m=x.getMonth()+1;u.setDate(1);w.setDate(1);r=u<=r;w=x<=w;this.showMonthOnBtn?(this.__prevBtnTips.html(v+"\u6708").css("display:block"),this.__nextBtnTips.html(m+"\u6708").css("display:block")):(this.__prevBtnTips.css("display:none"),this.__nextBtnTips.css("display:none"));this.enableBtnWhenOutOfRange?(this.__prevBtnTips.removeClass("clickDisable"),this.__nextBtnTips.removeClass("clickDisable")):(r?this.__prevBtn.removeClass("clickDisable"):this.__prevBtn.addClass("clickDisable"),w?this.__nextBtn.removeClass("clickDisable"):this.__nextBtn.addClass("clickDisable"))},setAjaxUrl:function(m){this.ajaxUrl=m},getAjaxUrl:function(){return this.ajaxUrl}};mMonthFn={init:function(){var m=this;this.__elem||(this.__elem=q(this.calTemp),this.__itemElems=fish.all(".itemWrap",this.__elem),this.__dateElems=fish.all(".dateWrap",this.__elem),this.__userElems=fish.all(".userWrap",this.__elem),this.__thElems=fish.all("th",this.__elem),this.dateCss&&this.__dateElems.css(this.dateCss),this.userDateCss&&this.__userElems.css(this.userDateCss),this.tableThCss&&this.__thElems.css(this.tableThCss),this.itemCss&&this.__itemElems.css(this.itemCss),this.__itemElems.css("width:"+this.eachWidth+"px;height:"+this.eachHeight+"px"),this.__bgElem=fish.all(".monthBg",this.__elem).css("font-size:"+this.cal.backgroundMonthnumSize+"px"),this.firstDay=s(this.month),this.setDate(),this.__itemElems.on("click",function(){var r=fish.one(this),v=r.attr("day"),u=r.attr("month"),w=r.attr("year"),u=fish.parseDate(w+"-"+u+"-"+v);u.setDate(parseInt(v,10));r.hasClass("spanEnable")&&(v&&!r.hasClass("clickDisable"))&&(r=fish.parseTime(u),m.fn&&m.fn.call(m,r))}).hover(function(){var r=fish.one(this),v=fish.one(this),u=v.attr("day"),w=v.attr("month"),v=v.attr("year"),w=fish.parseDate(v+"-"+w+"-"+u),v=fish.parseDate(m.month),y=fish.parseDate(v,{months:-1}),x=fish.parseDate(v,{months:1}),z;w.getMonth()==v.getMonth()?z=m.formatData:w.getMonth()==y.getMonth()?z=m.lastMonthFormatData:w.getMonth()==x.getMonth()&&(z=m.nextMonthFormatData);v=fish.parseTime(w);w.setDate(parseInt(u,10));r.hasClass("spanEnable")&&r.addClass("spanHover");m.mouseover&&m.mouseover.call(m,v,this,z?z[parseInt(u,10)-1]:void 0)},function(){var r=fish.one(this),v=fish.one(this),u=v.attr("day"),w=v.attr("month"),v=v.attr("year"),w=fish.parseDate(v+"-"+w+"-"+u);w.setDate(parseInt(u,10));u=fish.parseTime(w);m.mouseout&&m.mouseout.call(m,u);r.hasClass("spanEnable")&&r.removeClass("spanHover")}))},appendTo:function(m){fish.one(m).html("bottom",this.__elem);!this.width&&!this.height&&(this.width=7*(this.cal.eachWidth+2)+9,this.height=25+6*(this.cal.eachHeight+2+1));this.__bgElem.css("width:"+this.width+"px;height:"+this.height+"px")},insertTo:function(m,r){fish.one(m).html("top",this.__elem);!this.width&&!this.height&&(this.width=7*(this.cal.eachWidth+2)+9,this.height=25+6*(this.cal.eachHeight+2+1));this.__bgElem.css("width:"+this.width+"px;height:"+this.height+"px;line-height:"+this.height+"px")},css:function(m){this.__elem.css(m)},z:function(m){this.__elem.css("z-index:"+m)},_setValidDate:function(){var m=c(this.month,this.startTime,this.endTime);this.startDate=m.start;this.endDate=m.end},setDate:function(u){u=u||{};var v=this;fish.lang.extend(this,u);var x=fish.parseDate(this.month);x.setDate(1);this.month=fish.parseTime(x);this.monthIndex=fish.parseDate(this.month).getMonth()+1;this.tomorrow=fish.parseTime(this.today,{days:1});this._setValidDate();var w=s(this.month);u=s(this.month,"number");var y=fish.parseTime(this.month,{months:-1}),B=fish.parseTime(this.month,{months:1}),A,C=0,H="",L=!1,F=!1,E,G,D,J,K=k(this.month),I=k(y);v.fillBlank?0==u?(C=E=0,A=x):(E=-1,C=I-u,A=fish.parseDate(y)):(C=E=0,A=x);this.__itemElems.each(function(m,r){D=fish.one(v.__itemElems[r]);J=fish.one(v.__dateElems[r]);D.removeClass("spanNow spanDate spanEnable spanHover spanSpec notAble");v.fillBlank||(L||fish.one(m).attr("calday")===w)&&!F?(L=!0,C++,v.fillBlank&&(-1==E?C>I&&(E=0,C=1,A=x):0==E&&C>K&&(C=E=1,A=fish.parseDate(B))),A.setDate(C),H=fish.parseTime(A),G=a[fish.parseTime(H)],0!==E?D.addClass("notCurMonthDay"):D.removeClass("notCurMonthDay"),H===v.today?(D.addClass("spanSpec"),G={name:"\u4eca\u5929"}):H===v.tomorrow?(D.addClass("spanSpec"),G={name:"\u660e\u5929"}):H===v.now&&D.addClass("spanNow"),D.attr("day",C),D.attr("month",A.getMonth()+1),D.attr("year",A.getFullYear()),G&&v.cal.showSpecDate?J.html(G.name):J.html(C),D.addClass("spanDate"),!v.fillBlank&&v.startDate<=C&&C<=v.endDate||v.showPast?(D.addClass("spanEnable"),G&&D.addClass("spanSpec")):v.fillBlank&&fish.parseTime(A)>=fish.parseTime(v.startTime)&&fish.parseTime(A)<=fish.parseTime(v.endTime)||v.showPast?(D.addClass("spanEnable"),G&&D.addClass("spanSpec")):D.addClass("notAble"),K===C&&(F=!0)):(J.html(""),D.attr("day",""))});this.setNow(this.now);this.__bgElem.html(this.monthIndex)},setNow:function(m){m=""==m?fish.one(this.cal.__inputElem).val():m;var r=fish.parseDate(m),u=fish.parseDate(this.month);this.clearNow();r.getFullYear()===u.getFullYear()&&r.getMonth()===u.getMonth()&&this.__itemElems.each(function(v){v=fish.one(v);if(v.attr("day")==r.getDate()&&v.attr("month")==r.getMonth()+1){return v.addClass("spanNow"),this.now=fish.parseTime(m),!1}})},getItemElem:function(m,r){if(void 0==m){throw"param missing!check getItemElem"}if(isNaN(m)){throw"param:day should be numberType!check getItemElem"}if(void 0==r){throw"param missing!check getItemElem"}if(isNaN(r)){throw"param:month should be numberType!check getItemElem"}var u;this.__itemElems.each(function(){var v=this.getAttribute("day"),w=this.getAttribute("month");if(m==v&&r==w){return u=this,!1}});return u},clearNow:function(){this.__itemElems.removeClass("spanNow");this.now=""},setUserDate:function(){if(this.dataUrl&&this.processDataFn&&this.dateTempleteFn){var m=this,r,v,u=this.dataUrl,w=fish.parseDate(this.month),y=fish.parseTime(w,{months:-1}),y=fish.parseDate(y);k(y);y=fish.parseTime(w,{months:1});y=fish.parseDate(y);k(y);var x=this._getKeyUID(w),u=u.replace(/{month}/g,f(w.getMonth()+1)),u=u.replace(/{year}/g,w.getFullYear()),u=u.replace("{nextMonth}",y.getMonth()+1),u=u.replace("{nextMonthYear}",y.getFullYear());this.__bgElem.addClass("loadingbg");r=fish.parseDate(m.month);v=k(r);u=u.replace("{monthDays}",v);this._clearUserDate();if(this.reloadData||!this.cal.cache[x]||!this.cachAjax){if(m.__ajaxObjs[x]){try{m.__ajaxObjs[x].abort(),m.__ajaxObjs[x]=null}catch(z){}}this.__ajaxObjs[x]=fish.ajax({url:u,type:this.type,jsonpCallback:this.jsonpCallback,fn:function(A){m.__ajaxObjs[x]=null;A&&(m.cal.cache[x]=A,m.ajaxFn&&m.ajaxFn(A),m.formatData=m.processDataFn(A,v,r.getFullYear(),r.getMonth()+1),m._setUserDate(),m.preLoadingUserData&&(m._fillPrevOrNextMonth(w.getFullYear(),w.getMonth()+1),m._getPrevAndNextMonthUserDate()),m.__bgElem.removeClass("loadingbg"))}})}else{m.formatData=m.processDataFn(this.cal.cache[x],v,r.getFullYear(),r.getMonth()+1),m._setUserDate(),m.preLoadingUserData&&(m._fillPrevOrNextMonth(w.getFullYear(),w.getMonth()+1),m._getPrevAndNextMonthUserDate()),this.__bgElem.removeClass("loadingbg")}}},_getPrevAndNextMonthUserDate:function(){var m=fish.parseDate(this.month),r=fish.parseTime(m,{months:-1}),r=fish.parseDate(r),v=k(r),u=this._getKeyUID(r),m=fish.parseTime(m,{months:1}),m=fish.parseDate(m),w=k(m),y=this._getKeyUID(m),x=this.cal.cache[u],z=this.cal.cache[y];x?this.fillBlank&&(this.lastMonthFormatData=this.processDataFn(x,v,r.getFullYear(),r.getMonth()+1),this._setUserDate("prevMonth")):this.__ajaxObjs[u]||this._getMonData(r);z?this.fillBlank&&(this.nextMonthFormatData=this.processDataFn(z,w,m.getFullYear(),m.getMonth()+1),this._setUserDate("nextMonth")):this.__ajaxObjs[y]||this._getMonData(m)},_getMonData:function(m){var r=this.dataUrl,v=this._getKeyUID(m),u=this.__ajaxObjs[v],w=m.getFullYear(),y=m.getMonth()+1,x=k(m);m=fish.parseDate(m,{months:1});var z=this;if(u){try{u.abort(),u=null}catch(A){}}r=r.replace(/{month}/g,y);r=r.replace(/{year}/g,w);r=r.replace("{nextMonth}",m.getMonth()+1);r=r.replace("{nextMonthYear}",m.getFullYear());r=r.replace("{monthDays}",x);this.__ajaxObjs[v]=fish.ajax({url:r,type:this.type,jsonpCallback:this.jsonpCallback,fn:function(B){B&&(z.cal.cache[v]=B,z.__ajaxObjs[v]=null,z.fillBlank&&z._fillPrevOrNextMonth(w,y))}})},_getKeyUID:function(m){m=fish.parseDate(m);var r=m.getFullYear();m=this._fomateMonth(m.getMonth()+1);return r+"-"+m},_fillPrevOrNextMonth:function(m,r){this.cal.monthGroup[this.cal.monthGroup.focus].forEach(function(v){var u=fish.parseDate(v.month),w=u.getFullYear(),u=u.getMonth()+1;v._isPrevOrNextMonth(w,u,m,r)&&v._getPrevAndNextMonthUserDate()})},_isPrevOrNextMonth:function(m,r,v,u){m=parseInt(m);v=parseInt(v);r=parseInt(r);u=parseInt(u);return m==v&&1==r-u?!0:1==m-v&&1==r&&12==u?!0:m==v&&1==u-r?!0:1==v-m&&1==u&&12==r?!0:!1},_fomateMonth:function(m){m=parseInt(m);return 10>m?"0"+m:m},_clearUserDate:function(){var m=this;this.__userElems.each(function(r,u){fish.one(m.__userElems[u]).html("")})},_setUserDate:function(x){var y=!1,A=!1,z=this,B,D,C,E=s(this.month),J=s(this.month,"number"),H,K,G,I,F,L,M;G=fish.parseDate(this.month,{months:-1});var O=fish.parseDate(this.month,{months:1}),N=k(this.month),P=k(G);x=x||"currMonth";if(!(0==J&&"prevMonth"==x)){switch(x){case"prevMonth":C=P-J+1;H=z.lastMonthFormatData;break;case"nextMonth":G=O;C=1;H=z.nextMonthFormatData;break;default:case"currMonth":C=1,G=fish.parseDate(this.month),H=z.formatData}L=G.getFullYear();M=G.getMonth()+1;this.__userElems.each(function(m,r){if(!A&&(y||fish.one(m).getParent(".itemWrap").attr("calday")===E&&"currMonth"==x||"prevMonth"==x||r>=N+J&&"nextMonth"==x)){if(y=!0,I=fish.parseTime([L,M,C].join("-")),F=a[fish.parseTime(I)],K=I>=z.startTime&&I<=z.endTime,I===z.today?F={name:"\u4eca\u5929"}:I===z.tomorrow&&(F={name:"\u660e\u5929"}),D=z.dateTempleteFn(L,M,C,H[C-1],F,K),z.dateClickAbleFn&&(B=z.dateClickAbleFn(L,M,C,H[C-1],F)),fish.one(z.__userElems[r]).html(D?D:""),C++,(!1===B||!1===D)&&fish.one(z.__itemElems[r]).removeClass("spanEnable"),N<C&&"currMonth"==x||P<C&&"prevMonth"==x){A=!0}}else{"currMonth"==x&&!z.fillBlank&&fish.one(z.__userElems[r]).html("")}})}}};var b=!0;fish.extend({mCal:function(){var m=arguments;b?(m=t.apply(this,m),b=!1):m=t.apply(this,m);return m},preventInput:function(m){fish.all(m?m:this).each(function(r){r.getAttribute("_preventInput_")||(r.style.imeMode="disabled",r.onkeydown=function(u){fish.preventDefault(u)},r.oncontextmenu=function(){return !1},r.onselectstart=function(){return !1},r.setAttribute("_preventInput_","true"))})},recoverInput:function(m){fish.all(m?m:this).each(function(r){r.getAttribute("_preventInput_")&&(r.style.imeMode="",r.onkeydown=r.oncontextmenu=r.onselectstart=null,r.setAttribute("_preventInput_",""))})}})})();(function(a){a.extend({mNotice:function(g){function b(d){var f=true;d=a.all(d);if(d.length){d.each(function(h){if(!(a.one(h).hasClass("none")||h.style.display==="none")){return f=false}});return f}else{return 1}}function c(d){if(d=e.apply(ac,[d,r])){Z.html("");Z.html(d);ag=true}else{ag=false}}function J(d,f){var h;ak||am(ac);if(h=e.apply(ac,[d,r])){Z=ao(h,f);ag=true;aa==="mTab"&&aq(aa,ac,f);at(ac,Z);av&&aw(Z,ac);if(ay){aA(Z);aC(Z)}aE(ac,Z);aG(Z,ac);if(a.one(".mNotice-close",Z).length){Z.on("click",function(i){i=a.getTarget(i);a.one(i).hasClass("mNotice-close")&&Z.addClass("none")})}}else{ag=false}}function al(){if(!ar){var d=document.createElement("iframe");d.id="mNotice-backdrop";fish.one(Z).html("top",d);a.one(d).css("position:absolute;border:none;filter:alpha(opacity=0);opacity:0;z-index:-1");ar=d}d=fish.one(Z).width();var f=fish.one(Z).height();fish.all(ar).css("width:"+d+"px;height:"+f+"px")}function ao(d,f){Z=document.createElement("div");var h=a.one(Z);an&&h.attr("data-box-type",an);Z.id="mNotice-"+f;Z.className=ab?"mNotice-wrap none "+ab:"mNotice-wrap none";h.css("position: absolute; z-index: 2000;");document.body.insertBefore(Z,document.body.firstChild);Z.innerHTML=d;al();return h}function aq(d,f,h){d==="mTab"&&a.one("#mNotice-"+h).mTab({tab_tray:".mNotice-mTab-tab-tray",append:"current",content:".mNotice-mTab-content",fn:function(){au();al()}})}function at(d,f){d.on(aI,function(){a.all("body .mNotice-wrap").addClass("none");if(ag&&b(ad)){f.removeClass("none");aj(f,d,ap);al()}})}function am(d){d.on("click",function(){d[0].select()})}function aw(d,f){d.on(aK,function(h){h=a.getTarget(h);if(a.one(h).hasClass("mNotice-normal")){f.val(h.innerHTML);f.attr("cid",h.getAttribute("cid"));f.attr("ctype",h.getAttribute("ctype"));f.addClass("color-normal");d.addClass("none");an&&setTimeout(function(){a.dom("#"+an).blur()},20);af&&af.apply(a.one(h),[f])}})}function aA(d){d.on("mouseover",function(f){f=a.getTarget(f);if(a.one(f).hasClass("mNotice-normal")){a.all(".mNotice-normal",d).removeClass("mNotice-hover");a.one(f).addClass("mNotice-hover")}})}function aC(d){d.on("mouseout",function(){a.all(".mNotice-normal",d).removeClass("mNotice-hover")})}function aG(d,f){a.one(document).on("mousedown",function(h){for(var i=a.getTarget(h);i!==null;){if(i.nodeType===1&&(i===f[0]||i.className.indexOf("mNotice-wrap")>-1)){fish.one(i).attr("data-box-type")&&setTimeout(function(){fish.dom("#"+fish.one(i).attr("data-box-type")).focus()},0);return}i=i.parentNode}d.addClass("none")})}function aE(d,f){d.on("keydown",function(h){h=a.getEvent(h);key=h.keyCode||h.which;typeof key==="number"&&key!==17&&key!==18&&f.addClass("none")})}function aj(f,h,i){var j=i;if(f&&f[0].nodeType===1&&h&&h[0].nodeType===1){f.css("left:-1000px;");i=a.one(window).width();a.one(window).height();var m=h.width(),d=h.height(),k=f.width();f.height();h=h.offset();a.one(document).scrollTop();var l=a.one(document).scrollLeft();if(j&&!ax(j)){j.x=typeof j.x==="number"?j.x:0;j.y=typeof j.y==="number"?j.y:0}else{j={x:0,y:0}}h.left-l>i-(h.left-l)&&i-(h.left-l)<k?f.css("left:"+(h.left+m-k-j.x)+"px"):f.css("left:"+(h.left+j.x)+"px");f.css("top:"+(h.top+d+j.y)+"px")}else{aj(Z,ac,i)}}function au(){if(!(!Z||Z.hasClass("none"))){az&&clearTimeout(az);az=setTimeout(function(){aj(Z,ac,ap);al()},100)}}function ax(d){for(var f in d){return false}return true}function ai(d){if(!window.iError){window.iError=[]}window.iError.push({date:(new Date).toString(),info:d})}var aB=fish.guid();if(!g){throw Error("\u4f20\u9012\u8bbe\u7f6e\u53c2\u6570\uff01")}var ac=g.beside,an=g.dataBoxType,ak=g.isSelect,aI=g.documentCaptureEvent?g.documentCaptureEvent:"focus",aK=g.inputCaptureEvent?g.inputCaptureEvent:"click";if(this.length){ac=a.one(this[0])}else{if(!ac||typeof ac!=="string"&&ac.nodeType!==1&&!ac.length){throw Error("\u6307\u5b9a\u9700\u8981\u5f39\u6846\u7684\u8282\u70b9\u9009\u62e9\u5668\u6216\u8282\u70b9\uff01")}ac=a.one(ac);if(!ac.length){throw Error("\u6307\u5b9a\u9700\u8981\u5f39\u6846\u7684\u8282\u70b9\uff01")}}if(!{INPUT:"INPUT",TEXTAREA:"TEXTAREA"}[ac[0].nodeName]){throw Error("\u6307\u5b9a\u7684\u8f93\u5165\u57df\u65e0\u6548\uff01")}var ap={x:0,y:0},aD=g.offset&&g.offset.x,aF=g.offset&&g.offset.y,ae=g.request,ah=g.localData,r=typeof g.template==="string"?g.template:undefined,aa=g.mode==="mTab"?"mTab":"",ar,e=g.display,av=g.isClick===undefined?false:!!g.isClick,ay=g.isHover===undefined?false:!!g.isHover,af=typeof g.clickCallback==="function"?g.clickCallback:false,ab=typeof g.theme==="string"?g.theme:"",aH=typeof g.urlInTime==="function"?g.urlInTime:false,ad=typeof g.rejects==="string"?g.rejects:false,aJ="",Z,ag,az,aL={};if(g.offset&&(parseInt(aD)||parseInt(aF))){aD&&(ap.x=aD);aF&&(ap.y=aF)}if(!g.display&&typeof g.display!=="function"){throw Error("\u6307\u5b9a\u6570\u636e\u6e32\u67d3\u51fd\u6570\uff01")}if(!ae&&!ah||ae&&ah){throw Error("\u6307\u5b9a\u552f\u4e00\u6570\u636e\u6e90\uff01")}else{if(ae&&aH){aJ=ae.url;ae.url=aH(aJ);ae.fn=function(d){if(d&&(d.length||!ax(d))){a.ready(function(){aL[ae.url.substring(ae.url.indexOf("?")+1)]=d;a.all("#mNotice-"+aB).length?c(d):J(d,aB)})}};ae.onTimeout=function(){ai("\u670d\u52a1\u5668\u7aef\u54cd\u5e94\u8d85\u65f6\uff01")};ae.err=function(){ai("\u670d\u52a1\u5668\u7aef\u53d1\u751f\u9519\u8bef\uff01")};a.ajax(ae)}else{a.ready(function(){if(ah&&(ah.length||!ax(ah))){J(ah,aB)}})}}a.ready(function(){a.one(window).on("resize",au);a.one(window).on("scroll",au)});return{show:function(){setTimeout(function(){ag&&b(ad)&&Z.removeClass("none")&&aj()},0)},hide:function(){Z&&Z.length&&Z.addClass("none")},position:aj,update:function(){var d;ae.url=aH(aJ);d=ae.url.substring(ae.url.indexOf("?")+1);aL[d]?c(aL[d]):a.ajax(ae)}}}})})(fish);