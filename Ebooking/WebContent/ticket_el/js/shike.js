(function(){function d(){fish.all(".toptarinline .top ul li").each(function(e,f){fish.one(e).on("click",function(){fish.all(".toptarinline .top ul li").removeClass("on");fish.one(e).addClass("on");var g=fish.all(".toptarinline .type01");g.each(function(h){fish.dom(h).style.display="none"});fish.dom(g[f]).style.display="inline-block";if(fish.browser("ms")){g.each(function(h){fish.dom(h.parentNode).style.display="none"});fish.dom(g[f].parentNode).style.display="inline-block"}})})}function b(){fish.ajax({url:fish.one(".toptarinline").attr("data-toptrainline-url"),type:"jsonp",timeout:5000,fn:function(e){if(e.state){fish.one(".beijing").html(e.topTrainInfos["热门城市火车北京"].advercontent.replace(/com/g,"cn/huochepiao").replace(/<li>[\s\S]*?<\/li>/,""));fish.one(".shanghai").html(e.topTrainInfos["热门城市火车上海"].advercontent.replace(/com/g,"cn/huochepiao").replace(/<li>[\s\S]*?<\/li>/,""));fish.one(".guangzhou").html(e.topTrainInfos["热门城市火车广州"].advercontent.replace(/com/g,"cn/huochepiao").replace(/<li>[\s\S]*?<\/li>/,""));fish.one(".hangzhou").html(e.topTrainInfos["热门城市火车杭州"].advercontent.replace(/com/g,"cn/huochepiao").replace(/<li>[\s\S]*?<\/li>/,""));fish.one(".nanjing").html(e.topTrainInfos["热门城市火车南京"].advercontent.replace(/com/g,"cn/huochepiao").replace(/<li>[\s\S]*?<\/li>/,""))}},err:function(){fish.all(".toptarinline .top ul").html("");fish.dom(".toptarinline .beijing").style.height="109px";TC.Train.tplLoad(fish.dom("html")["config"].TplPath,"#toptarinline",function(e){fish.one(".beijing").html(fish.template(e,backdata))})}})}function a(){fish.ajax({url:fish.one(".toptarinno").attr("data-actrainno-url"),type:"jsonp",fn:function(e){if(e){fish.all(".toptarinno .trainno li a").each(function(f){f=fish.one(f);if(f.attr("title").indexOf("列车时刻表")>-1){if(f.html()=="K1515"){f.parent().html(f.parent().html().replace(/K1515/g,e.T109).replace(/上海南 → 深圳东/g,"北京 → 上海"))}else{if(f.html()=="K468"){f.parent().html(f.parent().html().replace(/K468/g,e.K411).replace(/西安 → 宁波东/g,"北京 → 威海"))}else{if(f.html()=="K1352"){}else{f.parent().html(f.parent().html().replace(f.html(),e[f.html()]))}}}}})}},err:function(){}})}function c(){b();d()}fish.ready(function(){c()})})();