<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">
     
    
  
  
  <bean id="carsManager" class="com.yf.system.base.cars.CarsManager">
  	<property name="dataSource">
  		<ref bean="myDataSource" />
  	</property>
  	<property name="sqlMapClient">
  		<ref bean="sqlMapClient" />
  	</property>
  </bean>
  
  
 
  <bean id="carsComponentProxy"
  	class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
  	<property name="transactionManager">
  		<ref bean="transactionManager" />
  	</property>
  	<property name="target">
	  	 <bean class="com.yf.system.base.cars.CarsComponent">
	        <property name="carsManager" ref="carsManager"/>
	      </bean>
  	</property>
  	<property name="transactionAttributes">
  		<props>
  			<prop key="create*">PROPAGATION_REQUIRED</prop>
  			<prop key="find*">PROPAGATION_REQUIRED,readOnly</prop>
  			<prop key="excute*">PROPAGATION_REQUIRED</prop>
  			<prop key="update*">PROPAGATION_REQUIRED</prop>
  			<prop key="count*">PROPAGATION_REQUIRED,readOnly</prop>
  		</props>
  	</property>
  </bean>
  
 <bean id="carimagesManager" class="com.yf.system.base.carimages.CarimagesManager">
  	<property name="dataSource">
  		<ref bean="myDataSource" />
  	</property>
  	<property name="sqlMapClient">
  		<ref bean="sqlMapClient" />
  	</property>
  </bean>
  
  
 
  <bean id="carimagesComponentProxy"
  	class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
  	<property name="transactionManager">
  		<ref bean="transactionManager" />
  	</property>
  	<property name="target">
	  	 <bean class="com.yf.system.base.carimages.CarimagesComponent">
	        <property name="carimagesManager" ref="carimagesManager"/>
	      </bean>
  	</property>
  	<property name="transactionAttributes">
  		<props>
  			<prop key="create*">PROPAGATION_REQUIRED</prop>
  			<prop key="find*">PROPAGATION_REQUIRED,readOnly</prop>
  			<prop key="excute*">PROPAGATION_REQUIRED</prop>
  			<prop key="update*">PROPAGATION_REQUIRED</prop>
  			<prop key="count*">PROPAGATION_REQUIRED,readOnly</prop>
  		</props>
  	</property>
  </bean>
    <bean id="carorderManager" class="com.yf.system.base.carorder.CarorderManager">
  	<property name="dataSource">
  		<ref bean="myDataSource" />
  	</property>
  	<property name="sqlMapClient">
  		<ref bean="sqlMapClient" />
  	</property>
  </bean>
  
  
 
  <bean id="carorderComponentProxy"
  	class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
  	<property name="transactionManager">
  		<ref bean="transactionManager" />
  	</property>
  	<property name="target">
	  	 <bean class="com.yf.system.base.carorder.CarorderComponent">
	        <property name="carorderManager" ref="carorderManager"/>
	      </bean>
  	</property>
  	<property name="transactionAttributes">
  		<props>
  			<prop key="create*">PROPAGATION_REQUIRED</prop>
  			<prop key="find*">PROPAGATION_REQUIRED,readOnly</prop>
  			<prop key="excute*">PROPAGATION_REQUIRED</prop>
  			<prop key="update*">PROPAGATION_REQUIRED</prop>
  			<prop key="count*">PROPAGATION_REQUIRED,readOnly</prop>
  		</props>
  	</property>
  </bean>
  
  <bean id="carstoreManager" class="com.yf.system.base.carstore.CarstoreManager">
  	<property name="dataSource">
  		<ref bean="myDataSource" />
  	</property>
  	<property name="sqlMapClient">
  		<ref bean="sqlMapClient" />
  	</property>
  </bean>
  
  
 
  <bean id="carstoreComponentProxy"
  	class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
  	<property name="transactionManager">
  		<ref bean="transactionManager" />
  	</property>
  	<property name="target">
	  	 <bean class="com.yf.system.base.carstore.CarstoreComponent">
	        <property name="carstoreManager" ref="carstoreManager"/>
	      </bean>
  	</property>
  	<property name="transactionAttributes">
  		<props>
  			<prop key="create*">PROPAGATION_REQUIRED</prop>
  			<prop key="find*">PROPAGATION_REQUIRED,readOnly</prop>
  			<prop key="excute*">PROPAGATION_REQUIRED</prop>
  			<prop key="update*">PROPAGATION_REQUIRED</prop>
  			<prop key="count*">PROPAGATION_REQUIRED,readOnly</prop>
  		</props>
  	</property>
  </bean>
  
  <bean id="carbrandManager" class="com.yf.system.base.carbrand.CarbrandManager">
  	<property name="dataSource">
  		<ref bean="myDataSource" />
  	</property>
  	<property name="sqlMapClient">
  		<ref bean="sqlMapClient" />
  	</property>
  </bean>
  
  
 
  <bean id="carbrandComponentProxy"
  	class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
  	<property name="transactionManager">
  		<ref bean="transactionManager" />
  	</property>
  	<property name="target">
	  	 <bean class="com.yf.system.base.carbrand.CarbrandComponent">
	        <property name="carbrandManager" ref="carbrandManager"/>
	      </bean>
  	</property>
  	<property name="transactionAttributes">
  		<props>
  			<prop key="create*">PROPAGATION_REQUIRED</prop>
  			<prop key="find*">PROPAGATION_REQUIRED,readOnly</prop>
  			<prop key="excute*">PROPAGATION_REQUIRED</prop>
  			<prop key="update*">PROPAGATION_REQUIRED</prop>
  			<prop key="count*">PROPAGATION_REQUIRED,readOnly</prop>
  		</props>
  	</property>
  </bean>
  
  <bean id="carsregionManager" class="com.yf.system.base.carsregion.CarsregionManager">
  	<property name="dataSource">
  		<ref bean="myDataSource" />
  	</property>
  	<property name="sqlMapClient">
  		<ref bean="sqlMapClient" />
  	</property>
  </bean>
  
  
 
  <bean id="carsregionComponentProxy"
  	class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
  	<property name="transactionManager">
  		<ref bean="transactionManager" />
  	</property>
  	<property name="target">
	  	 <bean class="com.yf.system.base.carsregion.CarsregionComponent">
	        <property name="carsregionManager" ref="carsregionManager"/>
	      </bean>
  	</property>
  	<property name="transactionAttributes">
  		<props>
  			<prop key="create*">PROPAGATION_REQUIRED</prop>
  			<prop key="find*">PROPAGATION_REQUIRED,readOnly</prop>
  			<prop key="excute*">PROPAGATION_REQUIRED</prop>
  			<prop key="update*">PROPAGATION_REQUIRED</prop>
  			<prop key="count*">PROPAGATION_REQUIRED,readOnly</prop>
  		</props>
  	</property>
  </bean>
   <bean id="carinfoManager" class="com.yf.system.base.carinfo.CarinfoManager">
  	<property name="dataSource">
  		<ref bean="myDataSource" />
  	</property>
  	<property name="sqlMapClient">
  		<ref bean="sqlMapClient" />
  	</property>
  </bean>
  
  
 
  <bean id="carinfoComponentProxy"
  	class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
  	<property name="transactionManager">
  		<ref bean="transactionManager" />
  	</property>
  	<property name="target">
	  	 <bean class="com.yf.system.base.carinfo.CarinfoComponent">
	        <property name="carinfoManager" ref="carinfoManager"/>
	      </bean>
  	</property>
  	<property name="transactionAttributes">
  		<props>
  			<prop key="create*">PROPAGATION_REQUIRED</prop>
  			<prop key="find*">PROPAGATION_REQUIRED,readOnly</prop>
  			<prop key="excute*">PROPAGATION_REQUIRED</prop>
  			<prop key="update*">PROPAGATION_REQUIRED</prop>
  			<prop key="count*">PROPAGATION_REQUIRED,readOnly</prop>
  		</props>
  	</property>
  </bean>
 
  
  <bean id="carService" class="com.yf.system.base.service.CarService">
	
	<property name="carsComponent" ref="carsComponentProxy"/>
	<property name="carimagesComponent" ref="carimagesComponentProxy"/>
	<property name="carorderComponent" ref="carorderComponentProxy"/>
	<property name="carstoreComponent" ref="carstoreComponentProxy"/>
	<property name="carbrandComponent" ref="carbrandComponentProxy"/>	
 	<property name="carsregionComponent" ref="carsregionComponentProxy"/>	
 	<property name="carinfoComponent" ref="carinfoComponentProxy"/>			
 		
  </bean>
  
   <bean name="/ICarService" class="org.springframework.remoting.caucho.HessianServiceExporter">
	    <property name="service" ref="carService"/>
	    <property name="serviceInterface" value="com.yf.system.base.service.ICarService"/>
	</bean>
 <bean id="servicecenterService" class="com.yf.system.base.service.ServicecenterService" scope="singleton">
   		<property name="servicecenterComponent" ref="servicecenterComponentProxy"/>
  </bean>
 
  <bean name="/IServicecenterService" class="org.springframework.remoting.caucho.HessianServiceExporter">
	    <property name="service" ref="servicecenterService"/>
	    <property name="serviceInterface" value="com.yf.system.base.service.IServicecenterService"/>
  </bean>
  
 </beans>
